tinymce.PluginManager.add("nonbreaking",function(f){var d=f.getParam("nonbreaking_force_tab");f.addCommand("mceNonBreaking",function(){f.insertContent((f.plugins.visualchars&&f.plugins.visualchars.state)?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;");f.dom.setAttrib(f.dom.select("span.mce-nbsp"),"data-mce-bogus","1")});f.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"});f.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"});if(d){var e=+d>1?+d:3;f.on("keydown",function(a){if(a.keyCode==9){if(a.shiftKey){return}a.preventDefault();for(var b=0;b<e;b++){f.execCommand("mceNonBreaking")}}})}});