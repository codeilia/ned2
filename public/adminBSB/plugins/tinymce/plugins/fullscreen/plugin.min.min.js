tinymce.PluginManager.add("fullscreen",function(r){var u=false,o=tinymce.DOM,s,t,w;var p,n,x;if(r.settings.inline){return}function v(){var d,c,a=window,b=document;var e=b.body;if(e.offsetWidth){d=e.offsetWidth;c=e.offsetHeight}if(a.innerWidth&&a.innerHeight){d=a.innerWidth;c=a.innerHeight}return{w:d,h:c}}function q(){var a=tinymce.DOM.getViewPort();return{x:a.x,y:a.y}}function y(a){scrollTo(a.x,a.y)}function z(){var f=document.body,a=document.documentElement,c;var b,d,g;function e(){o.setStyle(d,"height",v().h-(b.clientHeight-d.clientHeight))}u=!u;b=r.getContainer();c=b.style;d=r.getContentAreaContainer().firstChild;g=d.style;if(u){x=q();s=g.width;t=g.height;g.width=g.height="100%";p=c.width;n=c.height;c.width=c.height="";o.addClass(f,"mce-fullscreen");o.addClass(a,"mce-fullscreen");o.addClass(b,"mce-fullscreen");o.bind(window,"resize",e);e();w=e}else{g.width=s;g.height=t;if(p){c.width=p}if(n){c.height=n}o.removeClass(f,"mce-fullscreen");o.removeClass(a,"mce-fullscreen");o.removeClass(b,"mce-fullscreen");o.unbind(window,"resize",w);y(x)}r.fire("FullscreenStateChanged",{state:u})}r.on("init",function(){r.addShortcut("Ctrl+Shift+F","",z)});r.on("remove",function(){if(w){o.unbind(window,"resize",w)}});r.addCommand("mceFullScreen",z);r.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:true,onClick:function(){z();r.focus()},onPostRender:function(){var a=this;r.on("FullscreenStateChanged",function(b){a.active(b.state)})},context:"view"});r.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:z,onPostRender:function(){var a=this;r.on("FullscreenStateChanged",function(b){a.active(b.state)})}});return{isFullscreen:function(){return u}}});