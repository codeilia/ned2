tinymce.PluginManager.add("advlist",function(m){var j,k,h={};function i(a,c){var b=[];tinymce.each(c.split(/[ ,]/),function(d){b.push({text:d.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}),data:d=="default"?"":d})});return b}j=i("OL",m.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"));k=i("UL",m.getParam("advlist_bullet_styles","default,circle,disc,square"));function l(a,b){m.undoManager.transact(function(){var d,c=m.dom,e=m.selection;d=c.getParent(e.getNode(),"ol,ul");if(!d||d.nodeName!=a||b===false){var f={"list-style-type":b?b:""};m.execCommand(a=="UL"?"InsertUnorderedList":"InsertOrderedList",false,f)}b=b===false?h[a]:b;h[a]=b;d=c.getParent(e.getNode(),"ol,ul");if(d){c.setStyle(d,"listStyleType",b?b:null);d.removeAttribute("data-mce-style")}m.focus()})}function n(a){var b=m.dom.getStyle(m.dom.getParent(m.selection.getNode(),"ol,ul"),"listStyleType")||"";a.control.items().each(function(c){c.active(c.settings.data===b)})}m.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:j,onshow:n,onselect:function(a){l("OL",a.control.settings.data)},onclick:function(){l("OL",false)}});m.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:k,onshow:n,onselect:function(a){l("UL",a.control.settings.data)},onclick:function(){l("UL",false)}})});