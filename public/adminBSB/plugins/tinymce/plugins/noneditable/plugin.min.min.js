tinymce.PluginManager.add("noneditable",function(n){var o,j,r,m="contenteditable";function p(a){return function(b){return(" "+b.attr("class")+" ").indexOf(a)!==-1}}function k(e){var c=r.length,b=e.content,d=tinymce.trim(j);function a(f){var g=arguments,h=g[g.length-2];if(h>0&&b.charAt(h-1)=='"'){return f}return('<span class="'+d+'" data-mce-content="'+n.dom.encode(g[0])+'">'+n.dom.encode(typeof g[1]==="string"?g[1]:g[0])+"</span>")}if(e.format=="raw"){return}while(c--){b=b.replace(r[c],a)}e.content=b}o=" "+tinymce.trim(n.getParam("noneditable_editable_class","mceEditable"))+" ";j=" "+tinymce.trim(n.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var q=p(o);var l=p(j);r=n.getParam("noneditable_regexp");if(r&&!r.length){r=[r]}n.on("PreInit",function(){if(r){n.on("BeforeSetContent",k)}n.parser.addAttributeFilter("class",function(c){var b=c.length,a;while(b--){a=c[b];if(q(a)){a.attr(m,"true")}else{if(l(a)){a.attr(m,"false")}}}});n.serializer.addAttributeFilter(m,function(c){var b=c.length,a;while(b--){a=c[b];if(!q(a)&&!l(a)){continue}if(r&&a.attr("data-mce-content")){a.name="#text";a.type=3;a.raw=true;a.value=a.attr("data-mce-content")}else{a.attr(m,null)}}})})});