tinymce.PluginManager.add("noneditable",function(e){var d,i,a,f="contenteditable";function c(j){return function(k){return(" "+k.attr("class")+" ").indexOf(j)!==-1}}function h(n){var k=a.length,l=n.content,j=tinymce.trim(i);function m(q){var p=arguments,o=p[p.length-2];if(o>0&&l.charAt(o-1)=='"'){return q}return('<span class="'+j+'" data-mce-content="'+e.dom.encode(p[0])+'">'+e.dom.encode(typeof p[1]==="string"?p[1]:p[0])+"</span>")}if(n.format=="raw"){return}while(k--){l=l.replace(a[k],m)}n.content=l}d=" "+tinymce.trim(e.getParam("noneditable_editable_class","mceEditable"))+" ";i=" "+tinymce.trim(e.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var b=c(d);var g=c(i);a=e.getParam("noneditable_regexp");if(a&&!a.length){a=[a]}e.on("PreInit",function(){if(a){e.on("BeforeSetContent",h)}e.parser.addAttributeFilter("class",function(j){var k=j.length,l;while(k--){l=j[k];if(b(l)){l.attr(f,"true")}else{if(g(l)){l.attr(f,"false")}}}});e.serializer.addAttributeFilter(f,function(j){var k=j.length,l;while(k--){l=j[k];if(!b(l)&&!g(l)){continue}if(a&&l.attr("data-mce-content")){l.name="#text";l.type=3;l.raw=true;l.value=l.attr("data-mce-content")}else{l.attr(f,null)}}})})});