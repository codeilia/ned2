(function(){function a(q,n,p){var i=[],l=[],r;for(r=0;r<q.styleSheets.length;r++){var o=q.styleSheets[r];if(!((o.ownerNode||o.owningElement).getAttribute("data-cke-temp")||o.href&&"chrome://"==o.href.substr(0,9))){try{for(var m=o.cssRules||o.rules,o=0;o<m.length;o++){l.push(m[o].selectorText)}}catch(j){}}}r=l.join(" ");r=r.replace(/(,|>|\+|~)/g," ");r=r.replace(/\[[^\]]*/g,"");r=r.replace(/#[^\s]*/g,"");r=r.replace(/\:{1,2}[^\s]*/g,"");r=r.replace(/\s+/g," ");r=r.split(" ");q=[];for(l=0;l<r.length;l++){m=r[l],p.test(m)&&!n.test(m)&&-1==CKEDITOR.tools.indexOf(q,m)&&q.push(m)}for(r=0;r<q.length;r++){p=q[r].split("."),n=p[0].toLowerCase(),p=p[1],i.push({name:n+"."+p,element:n,attributes:{"class":p}})}return i}CKEDITOR.plugins.add("stylesheetparser",{init:function(c){c.filter.disable();var d;c.once("stylesSet",function(b){b.cancel();c.once("contentDom",function(){c.getStylesSet(function(e){d=e.concat(a(c.document.$,c.config.stylesheetParser_skipSelectors||/(^body\.|^\.)/i,c.config.stylesheetParser_validSelectors||/\w+\.\w+/));c.getStylesSet=function(f){if(d){return f(d)}};c.fire("stylesSet",{styles:d})})})},null,null,1)}})})();