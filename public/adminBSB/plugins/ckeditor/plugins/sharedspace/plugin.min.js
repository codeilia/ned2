(function(){function b(g,f,j){var h,i;if(j="string"==typeof j?CKEDITOR.document.getById(j):new CKEDITOR.dom.element(j)){if(h=g.fire("uiSpace",{space:f,html:""}).html){g.on("uiSpace",function(c){c.data.space==f&&c.cancel()},null,null,1),i=j.append(CKEDITOR.dom.element.createFromHtml(a.output({id:g.id,name:g.name,langDir:g.lang.dir,langCode:g.langCode,space:f,spaceId:g.ui.spaceId(f),content:h}))),j.getCustomData("cke_hasshared")?i.hide():j.setCustomData("cke_hasshared",1),i.unselectable(),i.on("mousedown",function(c){c=c.data;c.getTarget().hasAscendant("a",1)||c.preventDefault()}),g.focusManager.add(i,1),g.on("focus",function(){for(var d=0,c,k=j.getChildren();c=k.getItem(d);d++){c.type==CKEDITOR.NODE_ELEMENT&&!c.equals(i)&&c.hasClass("cke_shared")&&c.hide()}i.show()}),g.on("destroy",function(){i.remove()})}}}var a=CKEDITOR.addTemplate("sharedcontainer",'\x3cdiv id\x3d"cke_{name}" class\x3d"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_shared cke_detached cke_{langDir} '+CKEDITOR.env.cssClass+'" dir\x3d"{langDir}" title\x3d"'+(CKEDITOR.env.gecko?" ":"")+'" lang\x3d"{langCode}" role\x3d"presentation"\x3e\x3cdiv class\x3d"cke_inner"\x3e\x3cdiv id\x3d"{spaceId}" class\x3d"cke_{space}" role\x3d"presentation"\x3e{content}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');CKEDITOR.plugins.add("sharedspace",{init:function(c){c.on("loaded",function(){var d=c.config.sharedSpaces;if(d){for(var e in d){b(c,e,d[e])}}},null,null,9)}})})();