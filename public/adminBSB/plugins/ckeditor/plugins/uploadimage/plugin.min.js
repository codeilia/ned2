(function(){CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(e){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var c=CKEDITOR.fileTools,b=c.getUploadUrl(e.config,"image");b?(c.addUploadWidget(e,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:b,fileToElement:function(){var d=new CKEDITOR.dom.element("img");d.setAttribute("src",a);return d},parts:{img:"img"},onUploading:function(d){this.parts.img.setAttribute("src",d.data)},onUploaded:function(d){this.replaceWith('\x3cimg src\x3d"'+d.url+'" width\x3d"'+this.parts.img.$.naturalWidth+'" height\x3d"'+this.parts.img.$.naturalHeight+'"\x3e')}}),e.on("paste",function(h){if(h.data.dataValue.match(/<img[\s\S]+data:/i)){h=h.data;var n=document.implementation.createHTMLDocument(""),n=new CKEDITOR.dom.element(n.body),f,d,j;n.data("cke-editable",1);n.appendHtml(h.dataValue);f=n.find("img");for(j=0;j<f.count();j++){d=f.getItem(j);var m=d.getAttribute("src")&&"data:"==d.getAttribute("src").substring(0,5),i=null===d.data("cke-realelement");m&&i&&!d.data("cke-upload-id")&&!d.isReadOnly(1)&&(m=e.uploadRepository.create(d.getAttribute("src")),m.upload(b),c.markElement(d,"uploadimage",m.id),c.bindNotifications(e,m))}h.dataValue=n.getHtml()}})):CKEDITOR.error("uploadimage-config")}}});var a="data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs\x3d"})();