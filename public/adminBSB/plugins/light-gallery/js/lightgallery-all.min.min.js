/*! lightgallery - v1.2.21 - 2016-06-28
* http://sachinchoolur.github.io/lightGallery/
* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
(function(k,l,h,i){var j={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6000,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:true,getCaptionFromTitleOrAlt:true,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:false,preload:1,showAfterLoad:true,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:false,iframeMaxWidth:"100%",download:true,counter:true,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function g(a,b){this.el=a;this.$el=k(a);this.s=k.extend({},j,b);if(this.s.dynamic&&this.s.dynamicEl!=="undefined"&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw ("When using dynamic mode, you must also define dynamicEl as an Array.")}this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch=("ontouchstart" in h.documentElement);if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false}if(this.s.dynamic){this.$items=this.s.dynamicEl}else{if(this.s.selector==="this"){this.$items=this.$el}else{if(this.s.selector!==""){if(this.s.selectWithin){this.$items=k(this.s.selectWithin).find(this.s.selector)}else{this.$items=this.$el.find(k(this.s.selector))}}else{this.$items=this.$el.children()}}}this.$slide="";this.$outer="";this.init();return this}g.prototype.init=function(){var a=this;if(a.s.preload>a.$items.length){a.s.preload=a.$items.length}var b=l.location.hash;if(b.indexOf("lg="+this.s.galleryId)>0){a.index=parseInt(b.split("&slide=")[1],10);k("body").addClass("lg-from-hash");if(!k("body").hasClass("lg-on")){setTimeout(function(){a.build(a.index);k("body").addClass("lg-on")})}}if(a.s.dynamic){a.$el.trigger("onBeforeOpen.lg");a.index=a.s.index||0;if(!k("body").hasClass("lg-on")){setTimeout(function(){a.build(a.index);k("body").addClass("lg-on")})}}else{a.$items.on("click.lgcustom",function(d){try{d.preventDefault();d.preventDefault()}catch(c){d.returnValue=false}a.$el.trigger("onBeforeOpen.lg");a.index=a.s.index||a.$items.index(this);if(!k("body").hasClass("lg-on")){a.build(a.index);k("body").addClass("lg-on")}})}};g.prototype.build=function(b){var a=this;a.structure();k.each(k.fn.lightGallery.modules,function(c){a.modules[c]=new k.fn.lightGallery.modules[c](a.el)});a.slide(b,false,false);if(a.s.keyPress){a.keyPress()}if(a.$items.length>1){a.arrow();setTimeout(function(){a.enableDrag();a.enableSwipe()},50);if(a.s.mousewheel){a.mousewheel()}}a.counter();a.closeGallery();a.$el.trigger("onAfterOpen.lg");a.$outer.on("mousemove.lg click.lg touchstart.lg",function(){a.$outer.removeClass("lg-hide-items");clearTimeout(a.hideBartimeout);a.hideBartimeout=setTimeout(function(){a.$outer.addClass("lg-hide-items")},a.s.hideBarsDelay)})};g.prototype.structure=function(){var b="";var f="";var e=0;var c="";var d;var o=this;k("body").append('<div class="lg-backdrop"></div>');k(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms");for(e=0;e<this.$items.length;e++){b+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1){f='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"}if(this.s.appendSubHtmlTo===".lg-sub-html"){c='<div class="lg-sub-html"></div>'}d='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+b+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+f+c+"</div></div>";k("body").append(d);this.$outer=k(".lg-outer");this.$slide=this.$outer.find(".lg-item");if(this.s.useLeft){this.$outer.addClass("lg-use-left");this.s.mode="lg-slide"}else{this.$outer.addClass("lg-use-css3")}o.setTop();k(l).on("resize.lg orientationchange.lg",function(){setTimeout(function(){o.setTop()},100)});this.$slide.eq(this.index).addClass("lg-current");if(this.doCss()){this.$outer.addClass("lg-css3")}else{this.$outer.addClass("lg-css");this.s.speed=0}this.$outer.addClass(this.s.mode);if(this.s.enableDrag&&this.$items.length>1){this.$outer.addClass("lg-grab")}if(this.s.showAfterLoad){this.$outer.addClass("lg-show-after-load")}if(this.doCss()){var a=this.$outer.find(".lg-inner");a.css("transition-timing-function",this.s.cssEasing);a.css("transition-duration",this.s.speed+"ms")}k(".lg-backdrop").addClass("in");setTimeout(function(){o.$outer.addClass("lg-visible")},this.s.backdropDuration);if(this.s.download){this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>')}this.prevScrollTop=k(l).scrollTop()};g.prototype.setTop=function(){if(this.s.height!=="100%"){var c=k(l).height();var a=(c-parseInt(this.s.height,10))/2;var b=this.$outer.find(".lg");if(c>=parseInt(this.s.height,10)){b.css("top",a+"px")}else{b.css("top","0px")}}};g.prototype.doCss=function(){var a=function(){var b=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var d=h.documentElement;var c=0;for(c=0;c<b.length;c++){if(b[c] in d.style){return true}}};if(a()){return true}return false};g.prototype.isVideo=function(a,f){var d;if(this.s.dynamic){d=this.s.dynamicEl[f].html}else{d=this.$items.eq(f).attr("data-html")}if(!a&&d){return{html5:true}}var e=a.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i);var n=a.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var c=a.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i);var b=a.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);if(e){return{youtube:e}}else{if(n){return{vimeo:n}}else{if(c){return{dailymotion:c}}else{if(b){return{vk:b}}}}}};g.prototype.counter=function(){if(this.s.counter){k(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")}};g.prototype.addHtml=function(d){var b=null;var a;var e;if(this.s.dynamic){if(this.s.dynamicEl[d].subHtmlUrl){a=this.s.dynamicEl[d].subHtmlUrl}else{b=this.s.dynamicEl[d].subHtml}}else{e=this.$items.eq(d);if(e.attr("data-sub-html-url")){a=e.attr("data-sub-html-url")}else{b=e.attr("data-sub-html");if(this.s.getCaptionFromTitleOrAlt&&!b){b=e.attr("title")||e.find("img").first().attr("alt")}}}if(!a){if(typeof b!=="undefined"&&b!==null){var c=b.substring(0,1);if(c==="."||c==="#"){if(this.s.subHtmlSelectorRelative&&!this.s.dynamic){b=e.find(b).html()}else{b=k(b).html()}}}else{b=""}}if(this.s.appendSubHtmlTo===".lg-sub-html"){if(a){this.$outer.find(this.s.appendSubHtmlTo).load(a)}else{this.$outer.find(this.s.appendSubHtmlTo).html(b)}}else{if(a){this.$slide.eq(d).load(a)}else{this.$slide.eq(d).append(b)}}if(typeof b!=="undefined"&&b!==null){if(b===""){this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html")}else{this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")}}this.$el.trigger("onAfterAppendSubHtml.lg",[d])};g.prototype.preload=function(b){var a=1;var c=1;for(a=1;a<=this.s.preload;a++){if(a>=this.$items.length-b){break}this.loadContent(b+a,false,0)}for(c=1;c<=this.s.preload;c++){if(b-c<0){break}this.loadContent(b-c,false,0)}};g.prototype.loadContent=function(G,F,b){var z=this;var f=false;var a;var C;var c;var H;var A;var I;var B=function(o){var s=[];var m=[];for(var q=0;q<o.length;q++){var n=o[q].split(" ");if(n[0]===""){n.splice(0,1)}m.push(n[0]);s.push(n[1])}var r=k(l).width();for(var p=0;p<s.length;p++){if(parseInt(s[p],10)>r){C=m[p];break}}};if(z.s.dynamic){if(z.s.dynamicEl[G].poster){f=true;c=z.s.dynamicEl[G].poster}I=z.s.dynamicEl[G].html;C=z.s.dynamicEl[G].src;if(z.s.dynamicEl[G].responsive){var d=z.s.dynamicEl[G].responsive.split(",");B(d)}H=z.s.dynamicEl[G].srcset;A=z.s.dynamicEl[G].sizes}else{if(z.$items.eq(G).attr("data-poster")){f=true;c=z.$items.eq(G).attr("data-poster")}I=z.$items.eq(G).attr("data-html");C=z.$items.eq(G).attr("href")||z.$items.eq(G).attr("data-src");if(z.$items.eq(G).attr("data-responsive")){var E=z.$items.eq(G).attr("data-responsive").split(",");B(E)}H=z.$items.eq(G).attr("data-srcset");A=z.$items.eq(G).attr("data-sizes")}var D=false;if(z.s.dynamic){if(z.s.dynamicEl[G].iframe){D=true}}else{if(z.$items.eq(G).attr("data-iframe")==="true"){D=true}}var y=z.isVideo(C,G);if(!z.$slide.eq(G).hasClass("lg-loaded")){if(D){z.$slide.eq(G).prepend('<div class="lg-video-cont" style="max-width:'+z.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+C+'"  allowfullscreen="true"></iframe></div></div>')}else{if(f){var J="";if(y&&y.youtube){J="lg-has-youtube"}else{if(y&&y.vimeo){J="lg-has-vimeo"}else{J="lg-has-html5"}}z.$slide.eq(G).prepend('<div class="lg-video-cont '+J+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+c+'" /></div></div>')}else{if(y){z.$slide.eq(G).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>');z.$el.trigger("hasVideo.lg",[G,C,I])}else{z.$slide.eq(G).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+C+'" /></div>')}}}z.$el.trigger("onAferAppendSlide.lg",[G]);a=z.$slide.eq(G).find(".lg-object");if(A){a.attr("sizes",A)}if(H){a.attr("srcset",H);try{picturefill({elements:[a[0]]})}catch(e){console.error("Make sure you have included Picturefill version 2")}}if(this.s.appendSubHtmlTo!==".lg-sub-html"){z.addHtml(G)}z.$slide.eq(G).addClass("lg-loaded")}z.$slide.eq(G).find(".lg-object").on("load.lg error.lg",function(){var m=0;if(b&&!k("body").hasClass("lg-from-hash")){m=b}setTimeout(function(){z.$slide.eq(G).addClass("lg-complete");z.$el.trigger("onSlideItemLoad.lg",[G,b||0])},m)});if(y&&y.html5&&!f){z.$slide.eq(G).addClass("lg-complete")}if(F===true){if(!z.$slide.eq(G).hasClass("lg-complete")){z.$slide.eq(G).find(".lg-object").on("load.lg error.lg",function(){z.preload(G)})}else{z.preload(G)}}};g.prototype.slide=function(f,d,u){var t=this.$outer.find(".lg-current").index();var s=this;if(s.lGalleryOn&&(t===f)){return}var e=this.$slide.length;var a=s.lGalleryOn?this.s.speed:0;var w=false;var x=false;if(!s.lgBusy){if(this.s.download){var v;if(s.s.dynamic){v=s.s.dynamicEl[f].downloadUrl!==false&&(s.s.dynamicEl[f].downloadUrl||s.s.dynamicEl[f].src)}else{v=s.$items.eq(f).attr("data-download-url")!=="false"&&(s.$items.eq(f).attr("data-download-url")||s.$items.eq(f).attr("href")||s.$items.eq(f).attr("data-src"))}if(v){k("#lg-download").attr("href",v);s.$outer.removeClass("lg-hide-download")}else{s.$outer.addClass("lg-hide-download")}}this.$el.trigger("onBeforeSlide.lg",[t,f,d,u]);s.lgBusy=true;clearTimeout(s.hideBartimeout);if(this.s.appendSubHtmlTo===".lg-sub-html"){setTimeout(function(){s.addHtml(f)},a)}this.arrowDisable(f);if(!d){s.$outer.addClass("lg-no-trans");this.$slide.removeClass("lg-prev-slide lg-next-slide");if(f<t){x=true;if((f===0)&&(t===e-1)&&!u){x=false;w=true}}else{if(f>t){w=true;if((f===e-1)&&(t===0)&&!u){x=true;w=false}}}if(x){this.$slide.eq(f).addClass("lg-prev-slide");this.$slide.eq(t).addClass("lg-next-slide")}else{if(w){this.$slide.eq(f).addClass("lg-next-slide");this.$slide.eq(t).addClass("lg-prev-slide")}}setTimeout(function(){s.$slide.removeClass("lg-current");s.$slide.eq(f).addClass("lg-current");s.$outer.removeClass("lg-no-trans")},50)}else{var c=f-1;var b=f+1;if((f===0)&&(t===e-1)){b=0;c=e-1}else{if((f===e-1)&&(t===0)){b=0;c=e-1}}this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");s.$slide.eq(c).addClass("lg-prev-slide");s.$slide.eq(b).addClass("lg-next-slide");s.$slide.eq(f).addClass("lg-current")}if(s.lGalleryOn){setTimeout(function(){s.loadContent(f,true,0)},this.s.speed+50);setTimeout(function(){s.lgBusy=false;s.$el.trigger("onAfterSlide.lg",[t,f,d,u])},this.s.speed)}else{s.loadContent(f,true,s.s.backdropDuration);s.lgBusy=false;s.$el.trigger("onAfterSlide.lg",[t,f,d,u])}s.lGalleryOn=true;if(this.s.counter){k("#lg-counter-current").text(f+1)}}};g.prototype.goToNextSlide=function(b){var a=this;if(!a.lgBusy){if((a.index+1)<a.$slide.length){a.index++;a.$el.trigger("onBeforeNextSlide.lg",[a.index]);a.slide(a.index,b,false)}else{if(a.s.loop){a.index=0;a.$el.trigger("onBeforeNextSlide.lg",[a.index]);a.slide(a.index,b,false)}else{if(a.s.slideEndAnimatoin){a.$outer.addClass("lg-right-end");setTimeout(function(){a.$outer.removeClass("lg-right-end")},400)}}}}};g.prototype.goToPrevSlide=function(b){var a=this;if(!a.lgBusy){if(a.index>0){a.index--;a.$el.trigger("onBeforePrevSlide.lg",[a.index,b]);a.slide(a.index,b,false)}else{if(a.s.loop){a.index=a.$items.length-1;a.$el.trigger("onBeforePrevSlide.lg",[a.index,b]);a.slide(a.index,b,false)}else{if(a.s.slideEndAnimatoin){a.$outer.addClass("lg-left-end");setTimeout(function(){a.$outer.removeClass("lg-left-end")},400)}}}}};g.prototype.keyPress=function(){var a=this;if(this.$items.length>1){k(l).on("keyup.lg",function(b){if(a.$items.length>1){if(b.keyCode===37){b.preventDefault();a.goToPrevSlide()}if(b.keyCode===39){b.preventDefault();a.goToNextSlide()}}})}k(l).on("keydown.lg",function(b){if(a.s.escKey===true&&b.keyCode===27){b.preventDefault();if(!a.$outer.hasClass("lg-thumb-open")){a.destroy()}else{a.$outer.removeClass("lg-thumb-open")}}})};g.prototype.arrow=function(){var a=this;this.$outer.find(".lg-prev").on("click.lg",function(){a.goToPrevSlide()});this.$outer.find(".lg-next").on("click.lg",function(){a.goToNextSlide()})};g.prototype.arrowDisable=function(a){if(!this.s.loop&&this.s.hideControlOnEnd){if((a+1)<this.$slide.length){this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled")}if(a>0){this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled")}}};g.prototype.setTranslate=function(b,a,c){if(this.s.useLeft){b.css("left",a)}else{b.css({transform:"translate3d("+(a)+"px, "+c+"px, 0px)"})}};g.prototype.touchMove=function(b,c){var a=c-b;if(Math.abs(a)>15){this.$outer.addClass("lg-dragging");this.setTranslate(this.$slide.eq(this.index),a,0);this.setTranslate(k(".lg-prev-slide"),-this.$slide.eq(this.index).width()+a,0);this.setTranslate(k(".lg-next-slide"),this.$slide.eq(this.index).width()+a,0)}};g.prototype.touchEnd=function(a){var b=this;if(b.s.mode!=="lg-slide"){b.$outer.addClass("lg-slide")}this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0");setTimeout(function(){b.$outer.removeClass("lg-dragging");if((a<0)&&(Math.abs(a)>b.s.swipeThreshold)){b.goToNextSlide(true)}else{if((a>0)&&(Math.abs(a)>b.s.swipeThreshold)){b.goToPrevSlide(true)}else{if(Math.abs(a)<5){b.$el.trigger("onSlideClick.lg")}}}b.$slide.removeAttr("style")});setTimeout(function(){if(!b.$outer.hasClass("lg-dragging")&&b.s.mode!=="lg-slide"){b.$outer.removeClass("lg-slide")}},b.s.speed+100)};g.prototype.enableSwipe=function(){var a=this;var b=0;var d=0;var c=false;if(a.s.enableSwipe&&a.isTouch&&a.doCss()){a.$slide.on("touchstart.lg",function(e){if(!a.$outer.hasClass("lg-zoomed")&&!a.lgBusy){e.preventDefault();a.manageSwipeClass();b=e.originalEvent.targetTouches[0].pageX}});a.$slide.on("touchmove.lg",function(e){if(!a.$outer.hasClass("lg-zoomed")){e.preventDefault();d=e.originalEvent.targetTouches[0].pageX;a.touchMove(b,d);c=true}});a.$slide.on("touchend.lg",function(){if(!a.$outer.hasClass("lg-zoomed")){if(c){c=false;a.touchEnd(d-b)}else{a.$el.trigger("onSlideClick.lg")}}})}};g.prototype.enableDrag=function(){var a=this;var b=0;var d=0;var e=false;var c=false;if(a.s.enableDrag&&!a.isTouch&&a.doCss()){a.$slide.on("mousedown.lg",function(f){if(!a.$outer.hasClass("lg-zoomed")){if(k(f.target).hasClass("lg-object")||k(f.target).hasClass("lg-video-play")){f.preventDefault();if(!a.lgBusy){a.manageSwipeClass();b=f.pageX;e=true;a.$outer.scrollLeft+=1;a.$outer.scrollLeft-=1;a.$outer.removeClass("lg-grab").addClass("lg-grabbing");a.$el.trigger("onDragstart.lg")}}}});k(l).on("mousemove.lg",function(f){if(e){c=true;d=f.pageX;a.touchMove(b,d);a.$el.trigger("onDragmove.lg")}});k(l).on("mouseup.lg",function(f){if(c){c=false;a.touchEnd(d-b);a.$el.trigger("onDragend.lg")}else{if(k(f.target).hasClass("lg-object")||k(f.target).hasClass("lg-video-play")){a.$el.trigger("onSlideClick.lg")}}if(e){e=false;a.$outer.removeClass("lg-grabbing").addClass("lg-grab")}})}};g.prototype.manageSwipeClass=function(){var c=this.index+1;var b=this.index-1;var a=this.$slide.length;if(this.s.loop){if(this.index===0){b=a-1}else{if(this.index===a-1){c=0}}}this.$slide.removeClass("lg-next-slide lg-prev-slide");if(b>-1){this.$slide.eq(b).addClass("lg-prev-slide")}this.$slide.eq(c).addClass("lg-next-slide")};g.prototype.mousewheel=function(){var a=this;a.$outer.on("mousewheel.lg",function(b){if(!b.deltaY){return}if(b.deltaY>0){a.goToPrevSlide()}else{a.goToNextSlide()}b.preventDefault()})};g.prototype.closeGallery=function(){var a=this;var b=false;this.$outer.find(".lg-close").on("click.lg",function(){a.destroy()});if(a.s.closable){a.$outer.on("mousedown.lg",function(c){if(k(c.target).is(".lg-outer")||k(c.target).is(".lg-item ")||k(c.target).is(".lg-img-wrap")){b=true}else{b=false}});a.$outer.on("mouseup.lg",function(c){if(k(c.target).is(".lg-outer")||k(c.target).is(".lg-item ")||k(c.target).is(".lg-img-wrap")&&b){if(!a.$outer.hasClass("lg-dragging")){a.destroy()}}})}};g.prototype.destroy=function(b){var a=this;if(!b){a.$el.trigger("onBeforeClose.lg")}k(l).scrollTop(a.prevScrollTop);if(b){if(!a.s.dynamic){this.$items.off("click.lg click.lgcustom")}k.removeData(a.el,"lightGallery")}this.$el.off(".lg.tm");k.each(k.fn.lightGallery.modules,function(c){if(a.modules[c]){a.modules[c].destroy()}});this.lGalleryOn=false;clearTimeout(a.hideBartimeout);this.hideBartimeout=false;k(l).off(".lg");k("body").removeClass("lg-on lg-from-hash");if(a.$outer){a.$outer.removeClass("lg-visible")}k(".lg-backdrop").removeClass("in");setTimeout(function(){if(a.$outer){a.$outer.remove()}k(".lg-backdrop").remove();if(!b){a.$el.trigger("onCloseAfter.lg")}},a.s.backdropDuration+50)};k.fn.lightGallery=function(a){return this.each(function(){if(!k.data(this,"lightGallery")){k.data(this,"lightGallery",new g(this,a))}else{try{k(this).data("lightGallery").init()}catch(b){console.error("lightGallery has not initiated properly")}}})};k.fn.lightGallery.modules={}})(jQuery,window,document);(function(l,g,h,i){var j={autoplay:false,pause:5000,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:".lg-toolbar"};var k=function(a){this.core=l(a).data("lightGallery");this.$el=l(a);if(this.core.$items.length<2){return false}this.core.s=l.extend({},j,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false}this.init();return this};k.prototype.init=function(){var a=this;if(a.core.s.autoplayControls){a.controls()}if(a.core.s.progressBar){a.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>')}a.progress();if(a.core.s.autoplay){a.startlAuto()}a.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){if(a.interval){a.cancelAuto();a.canceledOnTouch=true}});a.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){if(!a.interval&&a.canceledOnTouch){a.startlAuto();a.canceledOnTouch=false}})};k.prototype.progress=function(){var a=this;var b;var c;a.$el.on("onBeforeSlide.lg.tm",function(){if(a.core.s.progressBar&&a.fromAuto){b=a.core.$outer.find(".lg-progress-bar");c=a.core.$outer.find(".lg-progress");if(a.interval){c.removeAttr("style");b.removeClass("lg-start");setTimeout(function(){c.css("transition","width "+(a.core.s.speed+a.core.s.pause)+"ms ease 0s");b.addClass("lg-start")},20)}}if(!a.fromAuto&&!a.core.s.fourceAutoplay){a.cancelAuto()}a.fromAuto=false})};k.prototype.controls=function(){var a=this;var b='<span class="lg-autoplay-button lg-icon"></span>';l(this.core.s.appendAutoplayControlsTo).append(b);a.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){if(l(a.core.$outer).hasClass("lg-show-autoplay")){a.cancelAuto();a.core.s.fourceAutoplay=false}else{if(!a.interval){a.startlAuto();a.core.s.fourceAutoplay=a.fourceAutoplayTemp}}})};k.prototype.startlAuto=function(){var a=this;a.core.$outer.find(".lg-progress").css("transition","width "+(a.core.s.speed+a.core.s.pause)+"ms ease 0s");a.core.$outer.addClass("lg-show-autoplay");a.core.$outer.find(".lg-progress-bar").addClass("lg-start");a.interval=setInterval(function(){if(a.core.index+1<a.core.$items.length){a.core.index++}else{a.core.index=0}a.fromAuto=true;a.core.slide(a.core.index,false,false)},a.core.s.speed+a.core.s.pause)};k.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;this.core.$outer.find(".lg-progress").removeAttr("style");this.core.$outer.removeClass("lg-show-autoplay");this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")};k.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find(".lg-progress-bar").remove()};l.fn.lightGallery.modules.autoplay=k})(jQuery,window,document);(function(k,l,h,i){var j={fullScreen:true};var g=function(a){this.core=k(a).data("lightGallery");this.$el=k(a);this.core.s=k.extend({},j,this.core.s);this.init();return this};g.prototype.init=function(){var a="";if(this.core.s.fullScreen){if(!h.fullscreenEnabled&&!h.webkitFullscreenEnabled&&!h.mozFullScreenEnabled&&!h.msFullscreenEnabled){return}else{a='<span class="lg-fullscreen lg-icon"></span>';this.core.$outer.find(".lg-toolbar").append(a);this.fullScreen()}}};g.prototype.requestFullscreen=function(){var a=h.documentElement;if(a.requestFullscreen){a.requestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}}}}};g.prototype.exitFullscreen=function(){if(h.exitFullscreen){h.exitFullscreen()}else{if(h.msExitFullscreen){h.msExitFullscreen()}else{if(h.mozCancelFullScreen){h.mozCancelFullScreen()}else{if(h.webkitExitFullscreen){h.webkitExitFullscreen()}}}}};g.prototype.fullScreen=function(){var a=this;k(h).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){a.core.$outer.toggleClass("lg-fullscreen-on")});this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){if(!h.fullscreenElement&&!h.mozFullScreenElement&&!h.webkitFullscreenElement&&!h.msFullscreenElement){a.requestFullscreen()}else{a.exitFullscreen()}})};g.prototype.destroy=function(){this.exitFullscreen();k(h).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")};k.fn.lightGallery.modules.fullscreen=g})(jQuery,window,document);(function(k,g,h,i){var j={pager:false};var l=function(a){this.core=k(a).data("lightGallery");this.$el=k(a);this.core.s=k.extend({},j,this.core.s);if(this.core.s.pager&&this.core.$items.length>1){this.init()}return this};l.prototype.init=function(){var a=this;var c="";var b;var f;var d;a.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>');if(a.core.s.dynamic){for(var e=0;e<a.core.s.dynamicEl.length;e++){c+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+a.core.s.dynamicEl[e].thumb+'" /></div></span>'}}else{a.core.$items.each(function(){if(!a.core.s.exThumbImage){c+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+k(this).find("img").attr("src")+'" /></div></span>'}else{c+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+k(this).attr(a.core.s.exThumbImage)+'" /></div></span>'}})}f=a.core.$outer.find(".lg-pager-outer");f.html(c);b=a.core.$outer.find(".lg-pager-cont");b.on("click.lg touchend.lg",function(){var m=k(this);a.core.index=m.index();a.core.slide(a.core.index,false,false)});f.on("mouseover.lg",function(){clearTimeout(d);f.addClass("lg-pager-hover")});f.on("mouseout.lg",function(){d=setTimeout(function(){f.removeClass("lg-pager-hover")})});a.core.$el.on("onBeforeSlide.lg.tm",function(p,q,m){b.removeClass("lg-pager-active");b.eq(m).addClass("lg-pager-active")})};l.prototype.destroy=function(){};k.fn.lightGallery.modules.pager=l})(jQuery,window,document);(function(l,g,h,j){var k={thumbnail:true,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:false,showThumbByDefault:true,toogleThumb:true,pullCaptionUp:true,enableThumbDrag:true,enableThumbSwipe:true,swipeThreshold:50,loadYoutubeThumbnail:true,youtubeThumbSize:1,loadVimeoThumbnail:true,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:true};var i=function(a){this.core=l(a).data("lightGallery");this.core.s=l.extend({},k,this.core.s);this.$el=l(a);this.$thumbOuter=null;this.thumbOuterWidth=0;this.thumbTotalWidth=(this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin));this.thumbIndex=this.core.index;this.left=0;this.init();return this};i.prototype.init=function(){var a=this;if(this.core.s.thumbnail&&this.core.$items.length>1){if(this.core.s.showThumbByDefault){setTimeout(function(){a.core.$outer.addClass("lg-thumb-open")},700)}if(this.core.s.pullCaptionUp){this.core.$outer.addClass("lg-pull-caption-up")}this.build();if(this.core.s.animateThumb){if(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()){this.enableThumbDrag()}if(this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()){this.enableThumbSwipe()}this.thumbClickable=false}else{this.thumbClickable=true}this.toogle();this.thumbkeyPress()}};i.prototype.build=function(){var o=this;var c="";var f="";var a;var d='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":f="640";break;case"thumbnail_medium":f="200x150";break;case"thumbnail_small":f="100x75"}o.core.$outer.addClass("lg-has-thumb");o.core.$outer.find(".lg").append(d);o.$thumbOuter=o.core.$outer.find(".lg-thumb-outer");o.thumbOuterWidth=o.$thumbOuter.width();if(o.core.s.animateThumb){o.core.$outer.find(".lg-thumb").css({width:o.thumbTotalWidth+"px",position:"relative"})}if(this.core.s.animateThumb){o.$thumbOuter.css("height",o.core.s.thumbContHeight+"px")}function b(n,m,w){var u=o.core.isVideo(n,w)||{};var t;var v="";if(u.youtube||u.vimeo||u.dailymotion){if(u.youtube){if(o.core.s.loadYoutubeThumbnail){t="//img.youtube.com/vi/"+u.youtube[1]+"/"+o.core.s.youtubeThumbSize+".jpg"}else{t=m}}else{if(u.vimeo){if(o.core.s.loadVimeoThumbnail){t="//i.vimeocdn.com/video/error_"+f+".jpg";v=u.vimeo[1]}else{t=m}}else{if(u.dailymotion){if(o.core.s.loadDailymotionThumbnail){t="//www.dailymotion.com/thumbnail/video/"+u.dailymotion[1]}else{t=m}}}}}else{t=m}c+='<div data-vimeo-id="'+v+'" class="lg-thumb-item" style="width:'+o.core.s.thumbWidth+"px; margin-right: "+o.core.s.thumbMargin+'px"><img src="'+t+'" /></div>';v=""}if(o.core.s.dynamic){for(var e=0;e<o.core.s.dynamicEl.length;e++){b(o.core.s.dynamicEl[e].src,o.core.s.dynamicEl[e].thumb,e)}}else{o.core.$items.each(function(m){if(!o.core.s.exThumbImage){b(l(this).attr("href")||l(this).attr("data-src"),l(this).find("img").attr("src"),m)}else{b(l(this).attr("href")||l(this).attr("data-src"),l(this).attr(o.core.s.exThumbImage),m)}})}o.core.$outer.find(".lg-thumb").html(c);a=o.core.$outer.find(".lg-thumb-item");a.each(function(){var n=l(this);var m=n.attr("data-vimeo-id");if(m){l.getJSON("//www.vimeo.com/api/v2/video/"+m+".json?callback=?",{format:"json"},function(q){n.find("img").attr("src",q[0][o.core.s.vimeoThumbSize])})}});a.eq(o.core.index).addClass("active");o.core.$el.on("onBeforeSlide.lg.tm",function(){a.removeClass("active");a.eq(o.core.index).addClass("active")});a.on("click.lg touchend.lg",function(){var m=l(this);setTimeout(function(){if((o.thumbClickable&&!o.core.lgBusy)||!o.core.doCss()){o.core.index=m.index();o.core.slide(o.core.index,false,true)}},50)});o.core.$el.on("onBeforeSlide.lg.tm",function(){o.animateThumb(o.core.index)});l(g).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){o.animateThumb(o.core.index);o.thumbOuterWidth=o.$thumbOuter.width()},200)})};i.prototype.setTranslate=function(a){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+(a)+"px, 0px, 0px)"})};i.prototype.animateThumb=function(b){var a=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var c;switch(this.core.s.currentPagerPosition){case"left":c=0;break;case"middle":c=(this.thumbOuterWidth/2)-(this.core.s.thumbWidth/2);break;case"right":c=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=((this.core.s.thumbWidth+this.core.s.thumbMargin)*b-1)-c;if(this.left>(this.thumbTotalWidth-this.thumbOuterWidth)){this.left=this.thumbTotalWidth-this.thumbOuterWidth}if(this.left<0){this.left=0}if(this.core.lGalleryOn){if(!a.hasClass("on")){this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms")}if(!this.core.doCss()){a.animate({left:-this.left+"px"},this.core.s.speed)}}else{if(!this.core.doCss()){a.css("left",-this.left+"px")}}this.setTranslate(this.left)}};i.prototype.enableThumbDrag=function(){var a=this;var c=0;var e=0;var f=false;var d=false;var b=0;a.$thumbOuter.addClass("lg-grab");a.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(n){if(a.thumbTotalWidth>a.thumbOuterWidth){n.preventDefault();c=n.pageX;f=true;a.core.$outer.scrollLeft+=1;a.core.$outer.scrollLeft-=1;a.thumbClickable=false;a.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing")}});l(g).on("mousemove.lg.thumb",function(n){if(f){b=a.left;d=true;e=n.pageX;a.$thumbOuter.addClass("lg-dragging");b=b-(e-c);if(b>(a.thumbTotalWidth-a.thumbOuterWidth)){b=a.thumbTotalWidth-a.thumbOuterWidth}if(b<0){b=0}a.setTranslate(b)}});l(g).on("mouseup.lg.thumb",function(){if(d){d=false;a.$thumbOuter.removeClass("lg-dragging");a.left=b;if(Math.abs(e-c)<a.core.s.swipeThreshold){a.thumbClickable=true}}else{a.thumbClickable=true}if(f){f=false;a.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")}})};i.prototype.enableThumbSwipe=function(){var a=this;var c=0;var e=0;var d=false;var b=0;a.core.$outer.find(".lg-thumb").on("touchstart.lg",function(f){if(a.thumbTotalWidth>a.thumbOuterWidth){f.preventDefault();c=f.originalEvent.targetTouches[0].pageX;a.thumbClickable=false}});a.core.$outer.find(".lg-thumb").on("touchmove.lg",function(f){if(a.thumbTotalWidth>a.thumbOuterWidth){f.preventDefault();e=f.originalEvent.targetTouches[0].pageX;d=true;a.$thumbOuter.addClass("lg-dragging");b=a.left;b=b-(e-c);if(b>(a.thumbTotalWidth-a.thumbOuterWidth)){b=a.thumbTotalWidth-a.thumbOuterWidth}if(b<0){b=0}a.setTranslate(b)}});a.core.$outer.find(".lg-thumb").on("touchend.lg",function(){if(a.thumbTotalWidth>a.thumbOuterWidth){if(d){d=false;a.$thumbOuter.removeClass("lg-dragging");if(Math.abs(e-c)<a.core.s.swipeThreshold){a.thumbClickable=true}a.left=b}else{a.thumbClickable=true}}else{a.thumbClickable=true}})};i.prototype.toogle=function(){var a=this;if(a.core.s.toogleThumb){a.core.$outer.addClass("lg-can-toggle");a.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>');a.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){a.core.$outer.toggleClass("lg-thumb-open")})}};i.prototype.thumbkeyPress=function(){var a=this;l(g).on("keydown.lg.thumb",function(b){if(b.keyCode===38){b.preventDefault();a.core.$outer.addClass("lg-thumb-open")}else{if(b.keyCode===40){b.preventDefault();a.core.$outer.removeClass("lg-thumb-open")}}})};i.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){l(g).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb");this.$thumbOuter.remove();this.core.$outer.removeClass("lg-has-thumb")}};l.fn.lightGallery.modules.Thumbnail=i})(jQuery,window,document);(function(k,l,h,i){var j={videoMaxWidth:"855px",youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,vkPlayerParams:false,videojs:false,videojsOptions:{}};var g=function(a){this.core=k(a).data("lightGallery");this.$el=k(a);this.core.s=k.extend({},j,this.core.s);this.videoLoaded=false;this.init();return this};g.prototype.init=function(){var a=this;a.core.$el.on("hasVideo.lg.tm",function(e,n,c,f){a.core.$slide.eq(n).find(".lg-video").append(a.loadVideo(c,"lg-object",true,n,f));if(f){if(a.core.s.videojs){try{videojs(a.core.$slide.eq(n).find(".lg-html5").get(0),a.core.s.videojsOptions,function(){if(!a.videoLoaded){this.play()}})}catch(d){console.error("Make sure you have included videojs")}}else{a.core.$slide.eq(n).find(".lg-html5").get(0).play()}}});a.core.$el.on("onAferAppendSlide.lg.tm",function(c,d){a.core.$slide.eq(d).find(".lg-video-cont").css("max-width",a.core.s.videoMaxWidth);a.videoLoaded=true});var b=function(c){if(c.find(".lg-object").hasClass("lg-has-poster")&&c.find(".lg-object").is(":visible")){if(!c.hasClass("lg-has-video")){c.addClass("lg-video-playing lg-has-video");var t;var u;var d=function(m,o){c.find(".lg-video").append(a.loadVideo(m,"",false,a.core.index,o));if(o){if(a.core.s.videojs){try{videojs(a.core.$slide.eq(a.core.index).find(".lg-html5").get(0),a.core.s.videojsOptions,function(){this.play()})}catch(n){console.error("Make sure you have included videojs")}}else{a.core.$slide.eq(a.core.index).find(".lg-html5").get(0).play()}}};if(a.core.s.dynamic){t=a.core.s.dynamicEl[a.core.index].src;u=a.core.s.dynamicEl[a.core.index].html;d(t,u)}else{t=a.core.$items.eq(a.core.index).attr("href")||a.core.$items.eq(a.core.index).attr("data-src");u=a.core.$items.eq(a.core.index).attr("data-html");d(t,u)}var v=c.find(".lg-object");c.find(".lg-video").append(v);if(!c.find(".lg-video-object").hasClass("lg-html5")){c.removeClass("lg-complete");c.find(".lg-video-object").on("load.lg error.lg",function(){c.addClass("lg-complete")})}}else{var e=c.find(".lg-youtube").get(0);var s=c.find(".lg-vimeo").get(0);var w=c.find(".lg-dailymotion").get(0);var x=c.find(".lg-html5").get(0);if(e){e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else{if(s){try{$f(s).api("play")}catch(f){console.error("Make sure you have included froogaloop2 js")}}else{if(w){w.contentWindow.postMessage("play","*")}else{if(x){if(a.core.s.videojs){try{videojs(x).play()}catch(f){console.error("Make sure you have included videojs")}}else{x.play()}}}}}c.addClass("lg-video-playing")}}};if(a.core.doCss()&&a.core.$items.length>1&&((a.core.s.enableSwipe&&a.core.isTouch)||(a.core.s.enableDrag&&!a.core.isTouch))){a.core.$el.on("onSlideClick.lg.tm",function(){var c=a.core.$slide.eq(a.core.index);b(c)})}else{a.core.$slide.on("click.lg",function(){b(k(this))})}a.core.$el.on("onBeforeSlide.lg.tm",function(y,u,e){var B=a.core.$slide.eq(u);var c=B.find(".lg-youtube").get(0);var f=B.find(".lg-vimeo").get(0);var x=B.find(".lg-dailymotion").get(0);var A=B.find(".lg-vk").get(0);var z=B.find(".lg-html5").get(0);if(c){c.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else{if(f){try{$f(f).api("pause")}catch(d){console.error("Make sure you have included froogaloop2 js")}}else{if(x){x.contentWindow.postMessage("pause","*")}else{if(z){if(a.core.s.videojs){try{videojs(z).pause()}catch(d){console.error("Make sure you have included videojs")}}else{z.pause()}}}}}if(A){k(A).attr("src",k(A).attr("src").replace("&autoplay","&noplay"))}var v;if(a.core.s.dynamic){v=a.core.s.dynamicEl[e].src}else{v=a.core.$items.eq(e).attr("href")||a.core.$items.eq(e).attr("data-src")}var w=a.core.isVideo(v,e)||{};if(w.youtube||w.vimeo||w.dailymotion||w.vk){a.core.$outer.addClass("lg-hide-download")}});a.core.$el.on("onAfterSlide.lg.tm",function(c,d){a.core.$slide.eq(d).removeClass("lg-video-playing")})};g.prototype.loadVideo=function(s,b,e,c,d){var r="";var f=1;var a="";var t=this.core.isVideo(s,c)||{};if(e){if(this.videoLoaded){f=0}else{f=1}}if(t.youtube){a="?wmode=opaque&autoplay="+f+"&enablejsapi=1";if(this.core.s.youtubePlayerParams){a=a+"&"+k.param(this.core.s.youtubePlayerParams)}r='<iframe class="lg-video-object lg-youtube '+b+'" width="560" height="315" src="//www.youtube.com/embed/'+t.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else{if(t.vimeo){a="?autoplay="+f+"&api=1";if(this.core.s.vimeoPlayerParams){a=a+"&"+k.param(this.core.s.vimeoPlayerParams)}r='<iframe class="lg-video-object lg-vimeo '+b+'" width="560" height="315"  src="//player.vimeo.com/video/'+t.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else{if(t.dailymotion){a="?wmode=opaque&autoplay="+f+"&api=postMessage";if(this.core.s.dailymotionPlayerParams){a=a+"&"+k.param(this.core.s.dailymotionPlayerParams)}r='<iframe class="lg-video-object lg-dailymotion '+b+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+t.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else{if(t.html5){var q=d.substring(0,1);if(q==="."||q==="#"){d=k(d).html()}r=d}else{if(t.vk){a="&autoplay="+f;if(this.core.s.vkPlayerParams){a=a+"&"+k.param(this.core.s.vkPlayerParams)}r='<iframe class="lg-video-object lg-vk '+b+'" width="560" height="315" src="http://vk.com/video_ext.php?'+t.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'}}}}}return r};g.prototype.destroy=function(){this.videoLoaded=false};k.fn.lightGallery.modules.video=g})(jQuery,window,document);(function(k,l,h,i){var j={scale:1,zoom:true,actualSize:true,enableZoomAfter:300};var g=function(a){this.core=k(a).data("lightGallery");this.core.s=k.extend({},j,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=k(l).width()/2;this.pageY=(k(l).height()/2)+k(l).scrollTop()}return this};g.prototype.init=function(){var a=this;var f='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';if(a.core.s.actualSize){f+='<span id="lg-actual-size" class="lg-icon"></span>'}this.core.$outer.find(".lg-toolbar").append(f);a.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(m,r,s){var t=a.core.s.enableZoomAfter+s;if(k("body").hasClass("lg-from-hash")&&s){t=0}else{k("body").removeClass("lg-from-hash")}a.zoomabletimeout=setTimeout(function(){a.core.$slide.eq(r).addClass("lg-zoomable")},t+30)});var b=1;var c=function(w){var x=a.core.$outer.find(".lg-current .lg-image");var y;var z;var A=(k(l).width()-x.width())/2;var m=((k(l).height()-x.height())/2)+k(l).scrollTop();y=a.pageX-A;z=a.pageY-m;var B=(w-1)*(y);var v=(w-1)*(z);x.css("transform","scale3d("+w+", "+w+", 1)").attr("data-scale",w);x.parent().css({left:-B+"px",top:-v+"px"}).attr("data-x",B).attr("data-y",v)};var n=function(){if(b>1){a.core.$outer.addClass("lg-zoomed")}else{a.resetZoom()}if(b<1){b=1}c(b)};var d=function(m,v,x,u){var y=v.width();var z;if(a.core.s.dynamic){z=a.core.s.dynamicEl[x].width||v[0].naturalWidth||y}else{z=a.core.$items.eq(x).attr("data-width")||v[0].naturalWidth||y}var w;if(a.core.$outer.hasClass("lg-zoomed")){b=1}else{if(z>y){w=z/y;b=w||2}}if(u){a.pageX=k(l).width()/2;a.pageY=(k(l).height()/2)+k(l).scrollTop()}else{a.pageX=m.pageX||m.originalEvent.targetTouches[0].pageX;a.pageY=m.pageY||m.originalEvent.targetTouches[0].pageY}n();setTimeout(function(){a.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)};var e=false;a.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(m,r){var q=a.core.$slide.eq(r).find(".lg-image");q.on("dblclick",function(o){d(o,q,r)});q.on("touchstart",function(o){if(!e){e=setTimeout(function(){e=null},300)}else{clearTimeout(e);e=null;d(o,q,r)}o.preventDefault()})});k(l).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){a.pageX=k(l).width()/2;a.pageY=(k(l).height()/2)+k(l).scrollTop();c(b)});k("#lg-zoom-out").on("click.lg",function(){if(a.core.$outer.find(".lg-current .lg-image").length){b-=a.core.s.scale;n()}});k("#lg-zoom-in").on("click.lg",function(){if(a.core.$outer.find(".lg-current .lg-image").length){b+=a.core.s.scale;n()}});k("#lg-actual-size").on("click.lg",function(m){d(m,a.core.$slide.eq(a.core.index).find(".lg-image"),a.core.index,true)});a.core.$el.on("onBeforeSlide.lg.tm",function(){b=1;a.resetZoom()});if(!a.core.isTouch){a.zoomDrag()}if(a.core.isTouch){a.zoomSwipe()}};g.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed");this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y");this.core.$slide.find(".lg-image").removeAttr("style data-scale");this.pageX=k(l).width()/2;this.pageY=(k(l).height()/2)+k(l).scrollTop()};g.prototype.zoomSwipe=function(){var a=this;var c={};var e={};var d=false;var f=false;var b=false;a.core.$slide.on("touchstart.lg",function(p){if(a.core.$outer.hasClass("lg-zoomed")){var o=a.core.$slide.eq(a.core.index).find(".lg-object");b=o.outerHeight()*o.attr("data-scale")>a.core.$outer.find(".lg").height();f=o.outerWidth()*o.attr("data-scale")>a.core.$outer.find(".lg").width();if((f||b)){p.preventDefault();c={x:p.originalEvent.targetTouches[0].pageX,y:p.originalEvent.targetTouches[0].pageY}}}});a.core.$slide.on("touchmove.lg",function(r){if(a.core.$outer.hasClass("lg-zoomed")){var q=a.core.$slide.eq(a.core.index).find(".lg-img-wrap");var s;var t;r.preventDefault();d=true;e={x:r.originalEvent.targetTouches[0].pageX,y:r.originalEvent.targetTouches[0].pageY};a.core.$outer.addClass("lg-zoom-dragging");if(b){t=(-Math.abs(q.attr("data-y")))+(e.y-c.y)}else{t=-Math.abs(q.attr("data-y"))}if(f){s=(-Math.abs(q.attr("data-x")))+(e.x-c.x)}else{s=-Math.abs(q.attr("data-x"))}if((Math.abs(e.x-c.x)>15)||(Math.abs(e.y-c.y)>15)){q.css({left:s+"px",top:t+"px"})}}});a.core.$slide.on("touchend.lg",function(){if(a.core.$outer.hasClass("lg-zoomed")){if(d){d=false;a.core.$outer.removeClass("lg-zoom-dragging");a.touchendZoom(c,e,f,b)}}})};g.prototype.zoomDrag=function(){var a=this;var c={};var e={};var f=false;var d=false;var n=false;var b=false;a.core.$slide.on("mousedown.lg.zoom",function(m){var p=a.core.$slide.eq(a.core.index).find(".lg-object");b=p.outerHeight()*p.attr("data-scale")>a.core.$outer.find(".lg").height();n=p.outerWidth()*p.attr("data-scale")>a.core.$outer.find(".lg").width();if(a.core.$outer.hasClass("lg-zoomed")){if(k(m.target).hasClass("lg-object")&&(n||b)){m.preventDefault();c={x:m.pageX,y:m.pageY};f=true;a.core.$outer.scrollLeft+=1;a.core.$outer.scrollLeft-=1;a.core.$outer.removeClass("lg-grab").addClass("lg-grabbing")}}});k(l).on("mousemove.lg.zoom",function(m){if(f){var t=a.core.$slide.eq(a.core.index).find(".lg-img-wrap");var r;var s;d=true;e={x:m.pageX,y:m.pageY};a.core.$outer.addClass("lg-zoom-dragging");if(b){s=(-Math.abs(t.attr("data-y")))+(e.y-c.y)}else{s=-Math.abs(t.attr("data-y"))}if(n){r=(-Math.abs(t.attr("data-x")))+(e.x-c.x)}else{r=-Math.abs(t.attr("data-x"))}t.css({left:r+"px",top:s+"px"})}});k(l).on("mouseup.lg.zoom",function(m){if(f){f=false;a.core.$outer.removeClass("lg-zoom-dragging");if(d&&((c.x!==e.x)||(c.y!==e.y))){e={x:m.pageX,y:m.pageY};a.touchendZoom(c,e,n,b)}d=false}a.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})};g.prototype.touchendZoom=function(b,v,u,w){var c=this;var t=c.core.$slide.eq(c.core.index).find(".lg-img-wrap");var e=c.core.$slide.eq(c.core.index).find(".lg-object");var z=(-Math.abs(t.attr("data-x")))+(v.x-b.x);var a=(-Math.abs(t.attr("data-y")))+(v.y-b.y);var f=(c.core.$outer.find(".lg").height()-e.outerHeight())/2;var y=Math.abs((e.outerHeight()*Math.abs(e.attr("data-scale")))-c.core.$outer.find(".lg").height()+f);var d=(c.core.$outer.find(".lg").width()-e.outerWidth())/2;var x=Math.abs((e.outerWidth()*Math.abs(e.attr("data-scale")))-c.core.$outer.find(".lg").width()+d);if((Math.abs(v.x-b.x)>15)||(Math.abs(v.y-b.y)>15)){if(w){if(a<=-y){a=-y}else{if(a>=-f){a=-f}}}if(u){if(z<=-x){z=-x}else{if(z>=-d){z=-d}}}if(w){t.attr("data-y",Math.abs(a))}else{a=-Math.abs(t.attr("data-y"))}if(u){t.attr("data-x",Math.abs(z))}else{z=-Math.abs(t.attr("data-x"))}t.css({left:z+"px",top:a+"px"})}};g.prototype.destroy=function(){var a=this;a.core.$el.off(".lg.zoom");k(l).off(".lg.zoom");a.core.$slide.off(".lg.zoom");a.core.$el.off(".lg.tm.zoom");a.resetZoom();clearTimeout(a.zoomabletimeout);a.zoomabletimeout=false};k.fn.lightGallery.modules.zoom=g})(jQuery,window,document);(function(k,l,h,i){var j={hash:true};var g=function(a){this.core=k(a).data("lightGallery");this.core.s=k.extend({},j,this.core.s);if(this.core.s.hash){this.oldHash=l.location.hash;this.init()}return this};g.prototype.init=function(){var a=this;var b;a.core.$el.on("onAfterSlide.lg.tm",function(c,d,e){l.location.hash="lg="+a.core.s.galleryId+"&slide="+e});k(l).on("hashchange.lg.hash",function(){b=l.location.hash;var c=parseInt(b.split("&slide=")[1],10);if((b.indexOf("lg="+a.core.s.galleryId)>-1)){a.core.slide(c,false,false)}else{if(a.core.lGalleryOn){a.core.destroy()}}})};g.prototype.destroy=function(){if(!this.core.s.hash){return}if(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0){l.location.hash=this.oldHash}else{if(history.pushState){history.pushState("",h.title,l.location.pathname+l.location.search)}else{l.location.hash=""}}this.core.$el.off(".lg.hash")};k.fn.lightGallery.modules.hash=g})(jQuery,window,document);