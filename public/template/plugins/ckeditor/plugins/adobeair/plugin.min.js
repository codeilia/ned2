(function(){function b(f){f=f.getElementsByTag("*");for(var h=f.count(),e,g=0;g<h;g++){e=f.getItem(g),function(d){for(var c=0;c<a.length;c++){(function(i){var j=d.getAttribute("on"+i);d.hasAttribute("on"+i)&&(d.removeAttribute("on"+i),d.on(i,function(n){var t=/(return\s*)?CKEDITOR\.tools\.callFunction\(([^)]+)\)/.exec(j),o=t&&t[1],s=t&&t[2].split(","),t=/return false;/.test(j);if(s){for(var l=s.length,p,q=0;q<l;q++){s[q]=p=CKEDITOR.tools.trim(s[q]);var r=p.match(/^(["'])([^"']*?)\1$/);if(r){s[q]=r[2]}else{if(p.match(/\d+/)){s[q]=parseInt(p,10)}else{switch(p){case"this":s[q]=d.$;break;case"event":s[q]=n.data.$;break;case"null":s[q]=null}}}}s=CKEDITOR.tools.callFunction.apply(window,s);o&&!1===s&&(t=1)}t&&n.data.preventDefault()}))})(a[c])}}(e)}}var a="click keydown mousedown keypress mouseover mouseout".split(" ");CKEDITOR.plugins.add("adobeair",{onLoad:function(){CKEDITOR.env.air&&(CKEDITOR.dom.document.prototype.write=CKEDITOR.tools.override(CKEDITOR.dom.document.prototype.write,function(d){function e(f,g,i,h){g=f.append(g);(i=CKEDITOR.htmlParser.fragment.fromHtml(i).children[0].attributes)&&g.setAttributes(i);h&&g.append(f.getDocument().createText(h))}return function(c){if(this.getBody()){var h=this,g=this.getHead();c=c.replace(/(<style[^>]*>)([\s\S]*?)<\/style>/gi,function(i,f,j){e(g,"style",f,j);return""});c=c.replace(/<base\b[^>]*\/>/i,function(f){e(g,"base",f);return""});c=c.replace(/<title>([\s\S]*)<\/title>/i,function(f,i){h.$.title=i;return""});c=c.replace(/<head>([\s\S]*)<\/head>/i,function(f){var i=new CKEDITOR.dom.element("div",h);i.setHtml(f);i.moveChildren(g);return""});c.replace(/(<body[^>]*>)([\s\S]*)(?=$|<\/body>)/i,function(f,i,j){h.getBody().setHtml(j);(f=CKEDITOR.htmlParser.fragment.fromHtml(i).children[0].attributes)&&h.getBody().setAttributes(f)})}else{d.apply(this,arguments)}}}),CKEDITOR.addCss("body.cke_editable { padding: 8px }"),CKEDITOR.ui.on("ready",function(e){e=e.data;if(e._.panel){var f=e._.panel._.panel,d;(function(){f.isLoaded?(d=f._.holder,b(d)):setTimeout(arguments.callee,30)})()}else{e instanceof CKEDITOR.dialog&&b(e._.element)}}))},init:function(c){CKEDITOR.env.air&&(c.on("uiReady",function(){b(c.container);c.on("elementsPathUpdate",function(d){b(d.data.space)})}),c.on("contentDom",function(){c.document.on("click",function(d){d.data.preventDefault(!0)})}))}})})();