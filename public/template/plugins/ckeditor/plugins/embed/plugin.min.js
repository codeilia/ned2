(function(){CKEDITOR.plugins.add("embed",{icons:"embed",hidpi:!0,requires:"embedbase",init:function(a){var d=CKEDITOR.plugins.embedBase.createWidgetBaseDefinition(a);CKEDITOR.tools.extend(d,{dialog:"embedBase",button:a.lang.embedbase.button,allowedContent:"div[!data-oembed-url]",requiredContent:"div[data-oembed-url]",providerUrl:new CKEDITOR.template(a.config.embed_provider||"//ckeditor.iframe.ly/api/oembed?url\x3d{url}\x26callback\x3d{callback}"),styleToAllowedContentRules:function(b){return{div:{propertiesOnly:!0,classes:b.getClassesArray(),attributes:"!data-oembed-url"}}},upcast:function(e,c){if("div"==e.name&&e.attributes["data-oembed-url"]){return c.url=e.attributes["data-oembed-url"],!0}},downcast:function(b){b.attributes["data-oembed-url"]=this.data.url}},!0);a.widgets.add("embed",d);a.filter.addElementCallback(function(b){if("data-oembed-url" in b.attributes){return CKEDITOR.FILTER_SKIP_TREE}})}})})();