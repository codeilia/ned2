tinymce.PluginManager.add("anchor",function(c){function d(){var a=c.selection.getNode(),b="";var f=a.tagName=="A"&&c.dom.getAttrib(a,"href")==="";if(f){b=a.name||a.id||""}c.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:b},onsubmit:function(h){var e=h.data.name;if(f){a.id=e}else{c.selection.collapse(true);c.execCommand("mceInsertContent",false,c.dom.createHTML("a",{id:e}))}}})}c.addCommand("mceAnchor",d);c.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:d,stateSelector:"a:not([href])"});c.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:d})});