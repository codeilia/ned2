tinymce.PluginManager.add("wordcount",function(f){var g=this,j,h;j=f.getParam("wordcount_countregex",/[\w\u2019\x27\-\u00C0-\u1FFF]+/g);h=f.getParam("wordcount_cleanregex",/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g);function i(){f.theme.panel.find("#wordcount").text(["Words: {0}",g.getCount()])}f.on("init",function(){var a=f.theme.panel&&f.theme.panel.find("#statusbar")[0];if(a){tinymce.util.Delay.setEditorTimeout(f,function(){a.insert({type:"label",name:"wordcount",text:["Words: {0}",g.getCount()],classes:"wordcount",disabled:f.settings.readonly},0);f.on("setcontent beforeaddundo",i);f.on("keyup",function(b){if(b.keyCode==32){i()}})},0)}});g.getCount=function(){var b=f.getContent({format:"raw"});var c=0;if(b){b=b.replace(/\.\.\./g," ");b=b.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ");b=b.replace(/(\w+)(&#?[a-z0-9]+;)+(\w+)/i,"$1$3").replace(/&.+?;/g," ");b=b.replace(h,"");var a=b.match(j);if(a){c=a.length}}return c}});