tinymce.PluginManager.add("fullscreen",function(i){var f=false,l=tinymce.DOM,h,g,d;var k,m,c;if(i.settings.inline){return}function e(){var o,p,r=window,q=document;var n=q.body;if(n.offsetWidth){o=n.offsetWidth;p=n.offsetHeight}if(r.innerWidth&&r.innerHeight){o=r.innerWidth;p=r.innerHeight}return{w:o,h:p}}function j(){var n=tinymce.DOM.getViewPort();return{x:n.x,y:n.y}}function b(n){scrollTo(n.x,n.y)}function a(){var o=document.body,t=document.documentElement,r;var s,q,n;function p(){l.setStyle(q,"height",e().h-(s.clientHeight-q.clientHeight))}f=!f;s=i.getContainer();r=s.style;q=i.getContentAreaContainer().firstChild;n=q.style;if(f){c=j();h=n.width;g=n.height;n.width=n.height="100%";k=r.width;m=r.height;r.width=r.height="";l.addClass(o,"mce-fullscreen");l.addClass(t,"mce-fullscreen");l.addClass(s,"mce-fullscreen");l.bind(window,"resize",p);p();d=p}else{n.width=h;n.height=g;if(k){r.width=k}if(m){r.height=m}l.removeClass(o,"mce-fullscreen");l.removeClass(t,"mce-fullscreen");l.removeClass(s,"mce-fullscreen");l.unbind(window,"resize",d);b(c)}i.fire("FullscreenStateChanged",{state:f})}i.on("init",function(){i.addShortcut("Ctrl+Shift+F","",a)});i.on("remove",function(){if(d){l.unbind(window,"resize",d)}});i.addCommand("mceFullScreen",a);i.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:true,onClick:function(){a();i.focus()},onPostRender:function(){var n=this;i.on("FullscreenStateChanged",function(o){n.active(o.state)})},context:"view"});i.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:a,onPostRender:function(){var n=this;i.on("FullscreenStateChanged",function(o){n.active(o.state)})}});return{isFullscreen:function(){return f}}});