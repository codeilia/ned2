(function(){var d={};var a=function(p){var n=i(p);var l=p.split(".");var o=Function("return this;")();for(var m=0;m<l.length-1;++m){if(o[l[m]]===undefined){o[l[m]]={}}o=o[l[m]]}o[l[l.length-1]]=n};var k=function(s){var r=d[s];var p=r.deps;var n=r.defn;var l=p.length;var q=new Array(l);for(var m=0;m<l;++m){q[m]=i(p[m])}var o=n.apply(null,q);if(o===undefined){throw"module ["+s+"] returned undefined"}r.instance=o};var b=function(n,m,l){if(typeof n!=="string"){throw"module id must be a string"}else{if(m===undefined){throw"no dependencies for "+n}else{if(l===undefined){throw"no definition function for "+n}}}d[n]={deps:m,defn:l,instance:undefined}};var i=function(m){var l=d[m];if(l===undefined){throw"module ["+m+"] was undefined"}else{if(l.instance===undefined){k(m)}}return l.instance};var g=function(n,p){var l=n.length;var o=new Array(l);for(var m=0;m<l;++m){o.push(i(n[m]))}p.apply(null,p)};var h={};h.bolt={module:{api:{define:b,require:g,demand:i}}};var e=b;var c=g;var j=i;var f=function(m,l){e(m,[],function(){return l})};f("global!tinymce.ThemeManager",tinymce.ThemeManager);f("global!tinymce.util.Delay",tinymce.util.Delay);f("global!tinymce.util.Tools",tinymce.util.Tools);f("global!tinymce.ui.Factory",tinymce.ui.Factory);f("global!tinymce.DOM",tinymce.DOM);e("tinymce/inlite/ui/Toolbar",["global!tinymce.util.Tools","global!tinymce.ui.Factory"],function(n,m){var q=function(s,r){return function(v,t){var w,u=t.parents.length;while(u--){w=t.parents[u].nodeName;if(w=="OL"||w=="UL"){break}}s.active(v&&w==r)}};var p=function(v,t){var r=function(w,x){return{selector:w,handler:x}};var u=function(w){t.active(w)};var s=function(w){t.disabled(w)};if(v=="bullist"){return r("ul > li",q(t,"UL"))}if(v=="numlist"){return r("ol > li",q(t,"OL"))}if(t.settings.stateSelector){return r(t.settings.stateSelector,u)}if(t.settings.disabledStateSelector){return r(t.settings.disabledStateSelector,s)}return null};var l=function(r,t,s){return function(){var u=p(t,s);if(u!==null){r.selection.selectorChanged(u.selector,u.handler)}}};var o=function(u,t,s){var v=[],r;if(!s){return}n.each(s.split(/[ ,]/),function(w){var x;if(w=="|"){r=null}else{if(m.has(w)){w={type:w};v.push(w);r=null}else{if(!r){r={type:"buttongroup",items:[]};v.push(r)}if(u.buttons[w]){x=w;w=u.buttons[x];if(typeof w=="function"){w=w()}w.type=w.type||"button";w=m.create(w);w.on("postRender",l(u,x,w));r.items.push(w)}}}});return m.create({type:"toolbar",layout:"flow",name:t,items:v})};return{create:o}});f("global!tinymce.util.Promise",tinymce.util.Promise);e("tinymce/inlite/alien/Uuid",[],function(){var n=0;var l=function(){var o=function(){return Math.round(Math.random()*4294967295).toString(36)};return"s"+Date.now().toString(36)+o()+o()+o()};var m=function(o){return o+(n++)+l()};return{uuid:m}});e("tinymce/inlite/alien/Bookmark",[],function(){var l=function(q,n){var o={};function p(u){var s,r,t;r=n[u?"startContainer":"endContainer"];t=n[u?"startOffset":"endOffset"];if(r.nodeType==1){s=q.create("span",{"data-mce-type":"bookmark"});if(r.hasChildNodes()){t=Math.min(t,r.childNodes.length-1);if(u){r.insertBefore(s,r.childNodes[t])}else{q.insertAfter(s,r.childNodes[t])}}else{r.appendChild(s)}r=s;t=0}o[u?"startContainer":"endContainer"]=r;o[u?"startOffset":"endOffset"]=t}p(true);if(!n.collapsed){p()}return o};var m=function(q,o){function p(v){var r,t,s;function u(x){var y=x.parentNode.firstChild,w=0;while(y){if(y==x){return w}if(y.nodeType!=1||y.getAttribute("data-mce-type")!="bookmark"){w++}y=y.nextSibling}return -1}r=s=o[v?"startContainer":"endContainer"];t=o[v?"startOffset":"endOffset"];if(!r){return}if(r.nodeType==1){t=u(r);r=r.parentNode;q.remove(s)}o[v?"startContainer":"endContainer"]=r;o[v?"startOffset":"endOffset"]=t}p(true);p();var n=q.createRng();n.setStart(o.startContainer,o.startOffset);if(o.endContainer){n.setEnd(o.endContainer,o.endOffset)}return n};return{create:l,resolve:m}});f("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);f("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);e("tinymce/inlite/alien/Unlink",["tinymce/inlite/alien/Bookmark","global!tinymce.util.Tools","global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils"],function(q,p,t,r){var s=function(A,w,v){var z,y,x=[];z=new t(w,A);for(y=w;y;y=z.next()){if(y.nodeType===1){x.push(y)}if(y===v){break}}return x};var u=function(y,x){var w,z,v;z=y.dom;v=y.selection;w=q.create(z,v.getRng());p.each(x,function(A){y.dom.remove(A,true)});v.setRng(q.resolve(z,w))};var o=function(v){return v.nodeName==="A"&&v.hasAttribute("href")};var n=function(w,x){var v=w.getParent(x,o);return v?v:x};var m=function(A){var y,x,C,w,z,B,v;z=A.selection;B=A.dom;v=z.getRng();y=n(B,r.getNode(v.startContainer,v.startOffset));x=r.getNode(v.endContainer,v.endOffset);C=A.getBody();w=p.grep(s(C,y,x),o);return w};var l=function(v){u(v,m(v))};return{unlinkSelection:l}});e("tinymce/inlite/core/Actions",["tinymce/inlite/alien/Uuid","tinymce/inlite/alien/Unlink"],function(s,p){var t=function(C,B){var z,D,A;A='<table data-mce-id="mce" style="width: 100%">';A+="<tbody>";for(D=0;D<B;D++){A+="<tr>";for(z=0;z<C;z++){A+="<td><br></td>"}A+="</tr>"}A+="</tbody>";A+="</table>";return A};var u=function(z){var y=z.dom.select("*[data-mce-id]");return y[0]};var r=function(y,A,z){y.undoManager.transact(function(){var B,C;y.insertContent(t(A,z));B=u(y);B.removeAttribute("data-mce-id");C=y.dom.select("td,th",B);y.selection.setCursorLocation(C[0],0)})};var x=function(z,y){z.execCommand("FormatBlock",false,y)};var n=function(B,y,z){var C,A;C=B.editorUpload.blobCache;A=C.create(s.uuid("mceu"),z,y);C.add(A);B.insertContent(B.dom.createHTML("img",{src:A.blobUri()}))};var m=function(y){y.selection.collapse(false)};var l=function(y){y.focus();p.unlinkSelection(y);m(y)};var o=function(z,A,y){z.focus();z.dom.setAttrib(A,"href",y);m(z)};var w=function(z,y){z.execCommand("mceInsertLink",false,{href:y});m(z)};var v=function(z,y){var A=z.dom.getParent(z.selection.getStart(),"a[href]");A?o(z,A,y):w(z,y)};var q=function(z,y){y.trim().length===0?l(z):v(z,y)};return{insertTable:r,formatBlock:x,insertBlob:n,createLink:q,unlink:l}});e("tinymce/inlite/core/UrlType",[],function(){var l=function(n){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(n.trim())};var m=function(n){return/^https?:\/\//.test(n.trim())};return{isDomainLike:l,isAbsolute:m}});e("tinymce/inlite/ui/Forms",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.util.Promise","tinymce/inlite/core/Actions","tinymce/inlite/core/UrlType"],function(o,m,t,l,s){var n=function(w){w.find("textbox").eq(0).each(function(x){x.focus()})};var u=function(x,w){var y=m.create(o.extend({type:"form",layout:"flex",direction:"row",padding:5,name:x,spacing:3},w));y.on("show",function(){n(y)});return y};var r=function(x,w){return w?x.show():x.hide()};var q=function(x,w){return new t(function(y){x.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(z){var A=z===true?"http://"+w:w;y(A)})})};var v=function(x,w){return !s.isAbsolute(w)&&s.isDomainLike(w)?q(x,w):t.resolve(w)};var p=function(y,x){var w=function(){y.focus();l.unlink(y);x()};return u("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:w,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var A,z="";A=y.dom.getParent(y.selection.getStart(),"a[href]");if(A){z=y.dom.getAttrib(A,"href")}this.fromJSON({linkurl:z});r(this.find("#unlink"),A)},onsubmit:function(z){v(y,z.data.linkurl).then(function(A){l.createLink(y,A);x()})}})};return{createQuickLinkForm:p}});f("global!tinymce.geom.Rect",tinymce.geom.Rect);e("tinymce/inlite/core/Convert",[],function(){var l=function(n){return{x:n.left,y:n.top,w:n.width,h:n.height}};var m=function(n){return{left:n.x,top:n.y,width:n.w,height:n.h,right:n.x+n.w,bottom:n.y+n.h}};return{fromClientRect:l,toClientRect:m}});e("tinymce/inlite/core/Measure",["global!tinymce.DOM","global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(t,l,p){var m=function(v){var u=t.getViewPort();return{x:v.x+u.x,y:v.y+u.y,w:v.w,h:v.h}};var o=function(v){var u=v.getBoundingClientRect();return m({x:u.left,y:u.top,w:Math.max(v.clientWidth,v.offsetWidth),h:Math.max(v.clientHeight,v.offsetHeight)})};var s=function(u,v){return o(v)};var n=function(u){return o(u.getElement().ownerDocument.body)};var q=function(u){return o(u.getContentAreaContainer()||u.getBody())};var r=function(u){var v=u.selection.getBoundingClientRect();return v?m(p.fromClientRect(v)):null};return{getElementRect:s,getPageAreaRect:n,getContentAreaRect:q,getSelectionRect:r}});e("tinymce/inlite/core/Layout",["global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(o,r){var m=function(u,t){return{rect:u,position:t}};var l=function(u,t){return{x:t.x,y:t.y,w:u.w,h:u.h}};var s=function(v,u,A,x,w){var t,y,z;t=o.findBestRelativePosition(w,A,x,v);A=o.clamp(A,x);if(t){y=o.relativePosition(w,A,t);z=l(w,y);return m(z,t)}A=o.intersect(x,A);if(A){t=o.findBestRelativePosition(w,A,x,u);if(t){y=o.relativePosition(w,A,t);z=l(w,y);return m(z,t)}z=l(w,A);return m(z,t)}return null};var p=function(v,u,t){return s(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],v,u,t)};var n=function(v,u,t){return s(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],v,u,t)};var q=function(w,x,v,u){var t;if(typeof w==="function"){t=w({elementRect:r.toClientRect(x),contentAreaRect:r.toClientRect(v),panelRect:r.toClientRect(u)});return r.fromClientRect(t)}return u};return{calcInsert:p,calc:n,userConstrain:q}});e("tinymce/inlite/ui/Panel",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.DOM","tinymce/inlite/ui/Toolbar","tinymce/inlite/ui/Forms","tinymce/inlite/core/Measure","tinymce/inlite/core/Layout"],function(n,l,q,o,r,m,p){return function(){var x="bold italic | quicklink h2 h3 blockquote";var D="quickimage quicktable";var C,E;var u=function(M,N){return n.map(N,function(O){return o.create(M,O.id,O.items)})};var v=function(M){var N=M.selection_toolbar;return N?N:x};var H=function(M){var N=M.insert_toolbar;return N?N:D};var B=function(O,P){var M,N=O.settings;M=u(O,P);M=M.concat([o.create(O,"text",v(N)),o.create(O,"insert",H(N)),r.createQuickLinkForm(O,A)]);return l.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:false,autofix:true,fixed:true,border:1,items:M,oncancel:function(){O.focus()}})};var K=function(M){if(M){M.show()}};var t=function(M,N){M.moveTo(N.x,N.y)};var w=function(N,M){M=M?M.substr(0,2):"";n.each({t:"down",b:"up",c:"center"},function(O,P){N.classes.toggle("arrow-"+O,P===M.substr(0,1))});if(M==="cr"){N.classes.toggle("arrow-left",true);N.classes.toggle("arrow-right",false)}else{if(M==="cl"){N.classes.toggle("arrow-left",true);N.classes.toggle("arrow-right",true)}else{n.each({l:"left",r:"right"},function(O,P){N.classes.toggle("arrow-"+O,P===M.substr(1,1))})}}};var z=function(M,O){var N=M.items().filter("#"+O);if(N.length>0){N[0].show();M.reflow()}};var I=function(O,T,R,S){var Q,P,N,M;K(O);O.items().hide();z(O,T);M=R.settings.inline_toolbar_position_handler;Q=m.getContentAreaRect(R);P=q.getRect(O.getEl());if(T==="insert"){N=p.calcInsert(S,Q,P)}else{N=p.calc(S,Q,P)}if(N){P=N.rect;E=S;t(O,p.userConstrain(M,S,Q,P));w(O,N.position)}else{A(O)}};var y=function(){return C.items().filter("form:visible").length>0};var F=function(Q,R){if(C){C.items().hide();z(C,R);var P,O,N,M;K(C);C.items().hide();z(C,R);M=Q.settings.inline_toolbar_position_handler;P=m.getContentAreaRect(Q);O=q.getRect(C.getEl());N=p.calc(E,P,O);if(N){O=N.rect;t(C,p.userConstrain(M,E,P,O));w(C,N.position)}}};var J=function(M,P,O,N){if(!C){C=B(M,N);C.renderTo(document.body).reflow().moveTo(O.x,O.y);M.nodeChanged()}I(C,P,M,O)};var A=function(){if(C){C.hide()}};var G=function(){if(C){C.find("toolbar:visible").eq(0).each(function(M){M.focus(true)})}};var L=function(){if(C){C.remove();C=null}};var s=function(){return C&&C.visible()&&y()};return{show:J,showForm:F,inForm:s,hide:A,focus:G,remove:L}}});e("tinymce/inlite/file/Conversions",["global!tinymce.util.Promise"],function(m){var l=function(n){return new m(function(p){var o=new FileReader();o.onloadend=function(){p(o.result.split(",")[1])};o.readAsDataURL(n)})};return{blobToBase64:l}});e("tinymce/inlite/file/Picker",["global!tinymce.util.Promise"],function(l){var m=function(){return new l(function(o){var n;n=document.createElement("input");n.type="file";n.style.position="fixed";n.style.left=0;n.style.top=0;n.style.opacity=0.001;document.body.appendChild(n);n.onchange=function(p){o(Array.prototype.slice.call(p.target.files))};n.click();n.parentNode.removeChild(n)})};return{pickFile:m}});e("tinymce/inlite/ui/Buttons",["tinymce/inlite/ui/Panel","tinymce/inlite/file/Conversions","tinymce/inlite/file/Picker","tinymce/inlite/core/Actions"],function(q,p,l,o){var n=function(u){var r=function(v){return function(){o.formatBlock(u,v)}};for(var t=1;t<6;t++){var s="h"+t;u.addButton(s,{text:s.toUpperCase(),tooltip:"Heading "+t,stateSelector:s,onclick:r(s),onPostRender:function(){var v=this.getEl().firstChild.firstChild;v.style.fontWeight="bold"}})}};var m=function(s,r){s.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){r.showForm(s,"quicklink")}});s.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){l.pickFile().then(function(u){var t=u[0];p.blobToBase64(t).then(function(v){o.insertBlob(s,v,t)})})}});s.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){r.hide();o.insertTable(s,2,2)}});n(s)};return{addToEditor:m}});f("global!tinymce.EditorManager",tinymce.EditorManager);e("tinymce/inlite/core/SkinLoader",["global!tinymce.EditorManager","global!tinymce.DOM"],function(l,n){var m=function(q,r){var p=function(){q.fire("SkinLoaded");r()};if(q.initialized){p()}else{q.on("init",p)}};var o=function(r,t,u){var s=l.baseURL;var q=s+"/skins/"+t;var p=function(){m(r,u)};n.styleSheetLoader.load(q+"/skin.min.css",p);r.contentCSS.push(q+"/content.inline.min.css")};return{load:o}});e("tinymce/inlite/core/Matcher",[],function(){var l=function(o,n){return{id:o,rect:n}};var m=function(q,o){for(var p=0;p<o.length;p++){var r=o[p];var n=r(q);if(n){return n}}return null};return{match:m,result:l}});e("tinymce/inlite/core/SelectionMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(o,m){var l=function(p){return function(q){if(!q.selection.isCollapsed()){return o.result(p,m.getSelectionRect(q))}return null}};var n=function(p,q){return function(t){var s,r=t.schema.getTextBlockElements();for(s=0;s<p.length;s++){if(p[s].nodeName==="TABLE"){return null}}for(s=0;s<p.length;s++){if(p[s].nodeName in r){if(t.dom.isEmpty(p[s])){return o.result(q,m.getSelectionRect(t))}return null}}return null}};return{textSelection:l,emptyTextBlock:n}});e("tinymce/inlite/core/ElementMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(o,l){var m=function(p,q){return function(s){for(var r=0;r<q.length;r++){if(q[r].predicate(p)){return o.result(q[r].id,l.getElementRect(s,p))}}return null}};var n=function(p,q){return function(t){for(var s=0;s<p.length;s++){for(var r=0;r<q.length;r++){if(q[r].predicate(p[s])){return o.result(q[r].id,l.getElementRect(t,p[s]))}}}return null}};return{element:m,parent:n}});e("tinymce/inlite/alien/Arr",[],function(){var l=function(m){return m.reduce(function(n,o){return Array.isArray(o)?n.concat(l(o)):n.concat(o)},[])};return{flatten:l}});e("tinymce/inlite/core/PredicateId",["global!tinymce.util.Tools"],function(m){var n=function(p,o){return{id:p,predicate:o}};var l=function(o){return m.map(o,function(p){return n(p.id,p.predicate)})};return{create:n,fromContextToolbars:l}});e("tinymce/inlite/Theme",["global!tinymce.ThemeManager","global!tinymce.util.Delay","tinymce/inlite/ui/Panel","tinymce/inlite/ui/Buttons","tinymce/inlite/core/SkinLoader","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/ElementMatcher","tinymce/inlite/core/Matcher","tinymce/inlite/alien/Arr","tinymce/inlite/core/PredicateId"],function(A,n,z,B,u,E,C,w,q,p){var D=function(G){var H=G.selection.getNode();var F=G.dom.getParents(H);return F};var m=function(H,F,J,G){var I=function(K){return H.dom.is(K,F)};return{predicate:I,id:J,items:G}};var t=function(F){var G=F.contextToolbars;return q.flatten([G?G:[],m(F,"img","image","alignleft aligncenter alignright")])};var s=function(H,J){var F,I,G;I=D(H);G=p.fromContextToolbars(J);F=w.match(H,[C.element(I[0],G),E.textSelection("text"),E.emptyTextBlock(I,"insert"),C.parent(I,G)]);return F&&F.rect?F:null};var x=function(H,G){var F=function(){var J=t(H);var I=s(H,J);if(I){G.show(H,I.id,I.rect,J)}else{G.hide()}};return function(){if(!H.removed){F()}}};var v=function(F,G){return function(){if(!F.inForm()){G()}}};var y=function(H,G){var I=n.throttle(x(H,G),0);var F=n.throttle(v(G,x(H,G)),0);H.on("blur hide ObjectResizeStart",G.hide);H.on("click",I);H.on("nodeChange mouseup",F);H.on("ResizeEditor ResizeWindow keyup",I);H.on("remove",G.remove);H.shortcuts.add("Alt+F10","",G.focus)};var l=function(G,F){G.shortcuts.remove("meta+k");G.shortcuts.add("meta+k","",function(){var I=t(G);var H=H=w.match(G,[E.textSelection("quicklink")]);if(H){F.show(G,H.id,H.rect,I)}})};var r=function(H,G){var F=H.settings.skin||"lightgray";u.load(H,F,function(){y(H,G);l(H,G)});return{}};var o=function(F){throw new Error(F)};A.add("inlite",function(H){var F=new z();B.addToEditor(H,F);var G=function(){return H.inline?r(H,F):o("inlite theme only supports inline mode.")};return{renderUI:G}});return function(){}});i("tinymce/inlite/Theme")()})();