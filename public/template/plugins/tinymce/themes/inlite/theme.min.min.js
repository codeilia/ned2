(function(){var s={};var v=function(c){var e=n(c);var b=c.split(".");var d=Function("return this;")();for(var a=0;a<b.length-1;++a){if(d[b[a]]===undefined){d[b[a]]={}}d=d[b[a]]}d[b[b.length-1]]=e};var l=function(c){var d=s[c];var f=d.deps;var h=d.defn;var b=f.length;var e=new Array(b);for(var a=0;a<b;++a){e[a]=n(f[a])}var g=h.apply(null,e);if(g===undefined){throw"module ["+c+"] returned undefined"}d.instance=g};var u=function(c,a,b){if(typeof c!=="string"){throw"module id must be a string"}else{if(a===undefined){throw"no dependencies for "+c}else{if(b===undefined){throw"no definition function for "+c}}}s[c]={deps:a,defn:b,instance:undefined}};var n=function(a){var b=s[a];if(b===undefined){throw"module ["+a+"] was undefined"}else{if(b.instance===undefined){l(a)}}return b.instance};var p=function(e,c){var b=e.length;var d=new Array(b);for(var a=0;a<b;++a){d.push(n(e[a]))}c.apply(null,c)};var o={};o.bolt={module:{api:{define:u,require:p,demand:n}}};var r=u;var t=p;var m=n;var q=function(a,b){r(a,[],function(){return b})};q("global!tinymce.ThemeManager",tinymce.ThemeManager);q("global!tinymce.util.Delay",tinymce.util.Delay);q("global!tinymce.util.Tools",tinymce.util.Tools);q("global!tinymce.ui.Factory",tinymce.ui.Factory);q("global!tinymce.DOM",tinymce.DOM);r("tinymce/inlite/ui/Toolbar",["global!tinymce.util.Tools","global!tinymce.ui.Factory"],function(f,a){var c=function(g,h){return function(j,x){var i,k=x.parents.length;while(k--){i=x.parents[k].nodeName;if(i=="OL"||i=="UL"){break}}g.active(j&&i==h)}};var d=function(g,i){var k=function(z,y){return{selector:z,handler:y}};var h=function(x){i.active(x)};var j=function(x){i.disabled(x)};if(g=="bullist"){return k("ul > li",c(i,"UL"))}if(g=="numlist"){return k("ol > li",c(i,"OL"))}if(i.settings.stateSelector){return k(i.settings.stateSelector,h)}if(i.settings.disabledStateSelector){return k(i.settings.disabledStateSelector,j)}return null};var b=function(i,g,h){return function(){var j=d(g,h);if(j!==null){i.selection.selectorChanged(j.selector,j.handler)}}};var e=function(h,i,j){var g=[],k;if(!j){return}f.each(j.split(/[ ,]/),function(z){var y;if(z=="|"){k=null}else{if(a.has(z)){z={type:z};g.push(z);k=null}else{if(!k){k={type:"buttongroup",items:[]};g.push(k)}if(h.buttons[z]){y=z;z=h.buttons[y];if(typeof z=="function"){z=z()}z.type=z.type||"button";z=a.create(z);z.on("postRender",b(h,y,z));k.items.push(z)}}}});return a.create({type:"toolbar",layout:"flow",name:i,items:g})};return{create:e}});q("global!tinymce.util.Promise",tinymce.util.Promise);r("tinymce/inlite/alien/Uuid",[],function(){var c=0;var b=function(){var d=function(){return Math.round(Math.random()*4294967295).toString(36)};return"s"+Date.now().toString(36)+d()+d()+d()};var a=function(d){return d+(c++)+b()};return{uuid:a}});r("tinymce/inlite/alien/Bookmark",[],function(){var b=function(c,f){var e={};function d(g){var i,j,h;j=f[g?"startContainer":"endContainer"];h=f[g?"startOffset":"endOffset"];if(j.nodeType==1){i=c.create("span",{"data-mce-type":"bookmark"});if(j.hasChildNodes()){h=Math.min(h,j.childNodes.length-1);if(g){j.insertBefore(i,j.childNodes[h])}else{c.insertAfter(i,j.childNodes[h])}}else{j.appendChild(i)}j=i;h=0}e[g?"startContainer":"endContainer"]=j;e[g?"startOffset":"endOffset"]=h}d(true);if(!f.collapsed){d()}return e};var a=function(c,e){function d(g){var k,i,j;function h(z){var B=z.parentNode.firstChild,A=0;while(B){if(B==z){return A}if(B.nodeType!=1||B.getAttribute("data-mce-type")!="bookmark"){A++}B=B.nextSibling}return -1}k=j=e[g?"startContainer":"endContainer"];i=e[g?"startOffset":"endOffset"];if(!k){return}if(k.nodeType==1){i=h(k);k=k.parentNode;c.remove(j)}e[g?"startContainer":"endContainer"]=k;e[g?"startOffset":"endOffset"]=i}d(true);d();var f=c.createRng();f.setStart(e.startContainer,e.startOffset);if(e.endContainer){f.setEnd(e.endContainer,e.endOffset)}return f};return{create:b,resolve:a}});q("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);q("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);r("tinymce/inlite/alien/Unlink",["tinymce/inlite/alien/Bookmark","global!tinymce.util.Tools","global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils"],function(b,c,i,a){var j=function(B,C,D){var E,F,k=[];E=new i(C,B);for(F=C;F;F=E.next()){if(F.nodeType===1){k.push(F)}if(F===D){break}}return k};var h=function(D,k){var A,C,B;C=D.dom;B=D.selection;A=b.create(C,B.getRng());c.each(k,function(w){D.dom.remove(w,true)});B.setRng(b.resolve(C,A))};var d=function(k){return k.nodeName==="A"&&k.hasAttribute("href")};var e=function(y,k){var z=y.getParent(k,d);return z?z:k};var f=function(D){var J,k,H,E,G,I,F;G=D.selection;I=D.dom;F=G.getRng();J=e(I,a.getNode(F.startContainer,F.startOffset));k=a.getNode(F.endContainer,F.endOffset);H=D.getBody();E=c.grep(j(H,J,k),d);return E};var g=function(k){h(k,f(k))};return{unlinkSelection:g}});r("tinymce/inlite/core/Actions",["tinymce/inlite/alien/Uuid","tinymce/inlite/alien/Unlink"],function(z,c){var y=function(F,G){var E,x,w;w='<table data-mce-id="mce" style="width: 100%">';w+="<tbody>";for(x=0;x<G;x++){w+="<tr>";for(E=0;E<F;E++){w+="<td><br></td>"}w+="</tr>"}w+="</tbody>";w+="</table>";return w};var k=function(w){var x=w.dom.select("*[data-mce-id]");return x[0]};var a=function(B,w,x){B.undoManager.transact(function(){var D,A;B.insertContent(y(w,x));D=k(B);D.removeAttribute("data-mce-id");A=B.dom.select("td,th",D);B.selection.setCursorLocation(A[0],0)})};var h=function(w,x){w.execCommand("FormatBlock",false,x)};var e=function(F,E,D){var x,w;x=F.editorUpload.blobCache;w=x.create(z.uuid("mceu"),D,E);x.add(w);F.insertContent(F.dom.createHTML("img",{src:w.blobUri()}))};var f=function(w){w.selection.collapse(false)};var g=function(w){w.focus();c.unlinkSelection(w);f(w)};var d=function(x,w,B){x.focus();x.dom.setAttrib(w,"href",B);f(x)};var i=function(w,x){w.execCommand("mceInsertLink",false,{href:x});f(w)};var j=function(x,B){var w=x.dom.getParent(x.selection.getStart(),"a[href]");w?d(x,w,B):i(x,B)};var b=function(w,x){x.trim().length===0?g(w):j(w,x)};return{insertTable:a,formatBlock:h,insertBlob:e,createLink:b,unlink:g}});r("tinymce/inlite/core/UrlType",[],function(){var b=function(c){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(c.trim())};var a=function(c){return/^https?:\/\//.test(c.trim())};return{isDomainLike:b,isAbsolute:a}});r("tinymce/inlite/ui/Forms",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.util.Promise","tinymce/inlite/core/Actions","tinymce/inlite/core/UrlType"],function(d,f,j,g,k){var e=function(x){x.find("textbox").eq(0).each(function(w){w.focus()})};var i=function(z,A){var B=f.create(d.extend({type:"form",layout:"flex",direction:"row",padding:5,name:z,spacing:3},A));B.on("show",function(){e(B)});return B};var a=function(y,z){return z?y.show():y.hide()};var b=function(y,z){return new j(function(w){y.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(B){var x=B===true?"http://"+z:z;w(x)})})};var h=function(y,z){return !k.isAbsolute(z)&&k.isDomainLike(z)?b(y,z):j.resolve(z)};var c=function(B,z){var A=function(){B.focus();g.unlink(B);z()};return i("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:A,tooltip:"Remove link"},{type:"textbox",name:"linkurl",placeholder:"Paste or type a link"},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(){var w,x="";w=B.dom.getParent(B.selection.getStart(),"a[href]");if(w){x=B.dom.getAttrib(w,"href")}this.fromJSON({linkurl:x});a(this.find("#unlink"),w)},onsubmit:function(w){h(B,w.data.linkurl).then(function(x){g.createLink(B,x);z()})}})};return{createQuickLinkForm:c}});q("global!tinymce.geom.Rect",tinymce.geom.Rect);r("tinymce/inlite/core/Convert",[],function(){var b=function(c){return{x:c.left,y:c.top,w:c.width,h:c.height}};var a=function(c){return{left:c.x,top:c.y,width:c.w,height:c.h,right:c.x+c.w,bottom:c.y+c.h}};return{fromClientRect:b,toClientRect:a}});r("tinymce/inlite/core/Measure",["global!tinymce.DOM","global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(h,g,c){var f=function(j){var k=h.getViewPort();return{x:j.x+k.x,y:j.y+k.y,w:j.w,h:j.h}};var d=function(j){var k=j.getBoundingClientRect();return f({x:k.left,y:k.top,w:Math.max(j.clientWidth,j.offsetWidth),h:Math.max(j.clientHeight,j.offsetHeight)})};var i=function(k,j){return d(j)};var e=function(j){return d(j.getElement().ownerDocument.body)};var b=function(j){return d(j.getContentAreaContainer()||j.getBody())};var a=function(k){var j=k.selection.getBoundingClientRect();return j?f(c.fromClientRect(j)):null};return{getElementRect:i,getPageAreaRect:e,getContentAreaRect:b,getSelectionRect:a}});r("tinymce/inlite/core/Layout",["global!tinymce.geom.Rect","tinymce/inlite/core/Convert"],function(g,d){var a=function(i,j){return{rect:i,position:j}};var b=function(i,j){return{x:j.x,y:j.y,w:i.w,h:i.h}};var c=function(B,C,j,i,k){var D,F,E;D=g.findBestRelativePosition(k,j,i,B);j=g.clamp(j,i);if(D){F=g.relativePosition(k,j,D);E=b(k,F);return a(E,D)}j=g.intersect(i,j);if(j){D=g.findBestRelativePosition(k,j,i,C);if(D){F=g.relativePosition(k,j,D);E=b(k,F);return a(E,D)}E=b(k,j);return a(E,D)}return null};var f=function(i,j,k){return c(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],i,j,k)};var h=function(i,j,k){return c(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],i,j,k)};var e=function(j,i,k,y){var z;if(typeof j==="function"){z=j({elementRect:d.toClientRect(i),contentAreaRect:d.toClientRect(k),panelRect:d.toClientRect(y)});return d.fromClientRect(z)}return y};return{calcInsert:f,calc:h,userConstrain:e}});r("tinymce/inlite/ui/Panel",["global!tinymce.util.Tools","global!tinymce.ui.Factory","global!tinymce.DOM","tinymce/inlite/ui/Toolbar","tinymce/inlite/ui/Forms","tinymce/inlite/core/Measure","tinymce/inlite/core/Layout"],function(g,b,d,f,c,a,e){return function(){var O="bold italic | quicklink h2 h3 blockquote";var Y="quickimage quicktable";var Z,V;var U=function(x,w){return g.map(w,function(y){return f.create(x,y.id,y.items)})};var S=function(x){var w=x.selection_toolbar;return w?w:O};var P=function(x){var w=x.insert_toolbar;return w?w:Y};var aa=function(x,w){var z,y=x.settings;z=U(x,w);z=z.concat([f.create(x,"text",S(y)),f.create(x,"insert",P(y)),c.createQuickLinkForm(x,ab)]);return b.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:false,autofix:true,fixed:true,border:1,items:z,oncancel:function(){x.focus()}})};var i=function(w){if(w){w.show()}};var W=function(x,w){x.moveTo(w.x,w.y)};var Q=function(w,x){x=x?x.substr(0,2):"";g.each({t:"down",b:"up",c:"center"},function(z,y){w.classes.toggle("arrow-"+z,y===x.substr(0,1))});if(x==="cr"){w.classes.toggle("arrow-left",true);w.classes.toggle("arrow-right",false)}else{if(x==="cl"){w.classes.toggle("arrow-left",true);w.classes.toggle("arrow-right",true)}else{g.each({l:"left",r:"right"},function(z,y){w.classes.toggle("arrow-"+z,y===x.substr(1,1))})}}};var j=function(y,w){var x=y.items().filter("#"+w);if(x.length>0){x[0].show();y.reflow()}};var N=function(B,w,y,x){var z,A,C,D;i(B);B.items().hide();j(B,w);D=y.settings.inline_toolbar_position_handler;z=a.getContentAreaRect(y);A=d.getRect(B.getEl());if(w==="insert"){C=e.calcInsert(x,z,A)}else{C=e.calc(x,z,A)}if(C){A=C.rect;V=x;W(B,e.userConstrain(D,x,z,A));Q(B,C.position)}else{ab(B)}};var M=function(){return Z.items().filter("form:visible").length>0};var T=function(x,w){if(Z){Z.items().hide();j(Z,w);var y,z,A,B;i(Z);Z.items().hide();j(Z,w);B=x.settings.inline_toolbar_position_handler;y=a.getContentAreaRect(x);z=d.getRect(Z.getEl());A=e.calc(V,y,z);if(A){z=A.rect;W(Z,e.userConstrain(B,V,y,z));Q(Z,A.position)}}};var k=function(z,w,x,y){if(!Z){Z=aa(z,y);Z.renderTo(document.body).reflow().moveTo(x.x,x.y);z.nodeChanged()}N(Z,w,z,x)};var ab=function(){if(Z){Z.hide()}};var R=function(){if(Z){Z.find("toolbar:visible").eq(0).each(function(w){w.focus(true)})}};var h=function(){if(Z){Z.remove();Z=null}};var X=function(){return Z&&Z.visible()&&M()};return{show:k,showForm:T,inForm:X,hide:ab,focus:R,remove:h}}});r("tinymce/inlite/file/Conversions",["global!tinymce.util.Promise"],function(a){var b=function(c){return new a(function(d){var e=new FileReader();e.onloadend=function(){d(e.result.split(",")[1])};e.readAsDataURL(c)})};return{blobToBase64:b}});r("tinymce/inlite/file/Picker",["global!tinymce.util.Promise"],function(b){var a=function(){return new b(function(c){var d;d=document.createElement("input");d.type="file";d.style.position="fixed";d.style.left=0;d.style.top=0;d.style.opacity=0.001;document.body.appendChild(d);d.onchange=function(e){c(Array.prototype.slice.call(e.target.files))};d.click();d.parentNode.removeChild(d)})};return{pickFile:a}});r("tinymce/inlite/ui/Buttons",["tinymce/inlite/ui/Panel","tinymce/inlite/file/Conversions","tinymce/inlite/file/Picker","tinymce/inlite/core/Actions"],function(c,d,b,e){var f=function(g){var j=function(k){return function(){e.formatBlock(g,k)}};for(var h=1;h<6;h++){var i="h"+h;g.addButton(i,{text:i.toUpperCase(),tooltip:"Heading "+h,stateSelector:i,onclick:j(i),onPostRender:function(){var k=this.getEl().firstChild.firstChild;k.style.fontWeight="bold"}})}};var a=function(g,h){g.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){h.showForm(g,"quicklink")}});g.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){b.pickFile().then(function(i){var j=i[0];d.blobToBase64(j).then(function(k){e.insertBlob(g,k,j)})})}});g.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){h.hide();e.insertTable(g,2,2)}});f(g)};return{addToEditor:a}});q("global!tinymce.EditorManager",tinymce.EditorManager);r("tinymce/inlite/core/SkinLoader",["global!tinymce.EditorManager","global!tinymce.DOM"],function(b,d){var a=function(f,e){var g=function(){f.fire("SkinLoaded");e()};if(f.initialized){g()}else{f.on("init",g)}};var c=function(h,f,e){var g=b.baseURL;var i=g+"/skins/"+f;var j=function(){a(h,e)};d.styleSheetLoader.load(i+"/skin.min.css",j);h.contentCSS.push(i+"/content.inline.min.css")};return{load:c}});r("tinymce/inlite/core/Matcher",[],function(){var b=function(c,d){return{id:c,rect:d}};var a=function(d,f){for(var e=0;e<f.length;e++){var c=f[e];var g=c(d);if(g){return g}}return null};return{match:a,result:b}});r("tinymce/inlite/core/SelectionMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(c,a){var b=function(e){return function(f){if(!f.selection.isCollapsed()){return c.result(e,a.getSelectionRect(f))}return null}};var d=function(f,e){return function(g){var h,i=g.schema.getTextBlockElements();for(h=0;h<f.length;h++){if(f[h].nodeName==="TABLE"){return null}}for(h=0;h<f.length;h++){if(f[h].nodeName in i){if(g.dom.isEmpty(f[h])){return c.result(e,a.getSelectionRect(g))}return null}}return null}};return{textSelection:b,emptyTextBlock:d}});r("tinymce/inlite/core/ElementMatcher",["tinymce/inlite/core/Matcher","tinymce/inlite/core/Measure"],function(c,b){var a=function(f,e){return function(g){for(var h=0;h<e.length;h++){if(e[h].predicate(f)){return c.result(e[h].id,b.getElementRect(g,f))}}return null}};var d=function(f,e){return function(g){for(var h=0;h<f.length;h++){for(var i=0;i<e.length;i++){if(e[i].predicate(f[h])){return c.result(e[i].id,b.getElementRect(g,f[h]))}}}return null}};return{element:a,parent:d}});r("tinymce/inlite/alien/Arr",[],function(){var a=function(b){return b.reduce(function(d,c){return Array.isArray(c)?d.concat(a(c)):d.concat(c)},[])};return{flatten:a}});r("tinymce/inlite/core/PredicateId",["global!tinymce.util.Tools"],function(a){var c=function(d,e){return{id:d,predicate:e}};var b=function(d){return a.map(d,function(e){return c(e.id,e.predicate)})};return{create:c,fromContextToolbars:b}});r("tinymce/inlite/Theme",["global!tinymce.ThemeManager","global!tinymce.util.Delay","tinymce/inlite/ui/Panel","tinymce/inlite/ui/Buttons","tinymce/inlite/core/SkinLoader","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/ElementMatcher","tinymce/inlite/core/Matcher","tinymce/inlite/alien/Arr","tinymce/inlite/core/PredicateId"],function(I,L,a,G,f,g,F,d,H,J){var j=function(x){var w=x.selection.getNode();var y=x.dom.getParents(w);return y};var M=function(y,A,w,z){var x=function(B){return y.dom.is(B,A)};return{predicate:x,id:w,items:z}};var h=function(x){var w=x.contextToolbars;return H.flatten([w?w:[],M(x,"img","image","alignleft aligncenter alignright")])};var i=function(y,w){var A,x,z;x=j(y);z=J.fromContextToolbars(w);A=d.match(y,[F.element(x[0],z),g.textSelection("text"),g.emptyTextBlock(x,"insert"),F.parent(x,z)]);return A&&A.rect?A:null};var c=function(w,x){var y=function(){var z=h(w);var A=i(w,z);if(A){x.show(w,A.id,A.rect,z)}else{x.hide()}};return function(){if(!w.removed){y()}}};var e=function(x,w){return function(){if(!x.inForm()){w()}}};var b=function(x,y){var w=L.throttle(c(x,y),0);var z=L.throttle(e(y,c(x,y)),0);x.on("blur hide ObjectResizeStart",y.hide);x.on("click",w);x.on("nodeChange mouseup",z);x.on("ResizeEditor ResizeWindow keyup",w);x.on("remove",y.remove);x.shortcuts.add("Alt+F10","",y.focus)};var N=function(w,x){w.shortcuts.remove("meta+k");w.shortcuts.add("meta+k","",function(){var y=h(w);var z=z=d.match(w,[g.textSelection("quicklink")]);if(z){x.show(w,z.id,z.rect,y)}})};var k=function(w,x){var y=w.settings.skin||"lightgray";f.load(w,y,function(){b(w,x);N(w,x)});return{}};var K=function(w){throw new Error(w)};I.add("inlite",function(w){var y=new a();G.addToEditor(w,y);var x=function(){return w.inline?k(w,y):K("inlite theme only supports inline mode.")};return{renderUI:x}});return function(){}});n("tinymce/inlite/Theme")()})();